/*
 * ==========================================================================
 * ๐ง Tahya Masr Chatbot - Logic Module (v10.5 - Strict Arabic Mode)
 * ==========================================================================
 * - ุงูููุฏูู: xiaomi/mimo-v2-flash:free (ููุง ุทูุจุช).
 * - ุงูุญู: ุชุนูููุงุช ูุธุงู ุตุงุฑูุฉ ุฌุฏุงู ูููุน ุงููุบุฉ ุงูุตูููุฉ.
 */

(function() {
    if (!window.TMChatUI) {
        console.error("ุฎุทุฃ: ูุฌุจ ุงุณุชุฏุนุงุก ููู chatbot-ui.js ูุจู ูุฐุง ุงูููู!");
        return;
    }

    const CONFIG = {
        API_KEY: "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", 
        // ุงูููุฏููุงุช ุงููุณุชุฎุฏูุฉ
        MODELS: [
            "xiaomi/mimo-v2-flash:free", 
            "google/gemini-2.0-flash-exp:free"
        ],
        MAX_MESSAGES_PER_SESSION: 500,
        SITE_URL: window.location.origin,
        SITE_TITLE: "Tahya Masr Student Union Chatbot"
    };

    const LOCAL_FAQ = {
        "ูู ูู ููุณู ุนุงู ุงููููููุฉ": "ููุณู ุนุงู ูุญุงูุธุฉ ุงููููููุฉ ูู ุงููุงุฆุฏ/ ูุญูุฏ ุงูุดุงูุนู.",
        "ูู ูู ุฑุฆูุณ ุงูุงุชุญุงุฏ": "ุฑุฆูุณ ุงูุงุชุญุงุฏ ูู ุงููุงุฆุฏ/ ูุตุทูู ูุทุงูุด.",
        "ูู ูู ุฑุฆูุณ ุงููุฌูุณ ุงูุฑูุงุจู": "ุฑุฆูุณ ุงููุฌูุณ ุงูุฑูุงุจู ูู ุงููุงุฆุฏ ุฏ/ ุฃุญูุฏ ุงูุฎููู.",
        "ูู ูู ูุทูุฑ ุงูุจูุช": "ุงูููุดุฆ ูุงููุทูุฑ ูู ุงููุงุฆุฏ ุฃุญูุฏ ุนุจุฏ ุงูุณูุงูุ ุฑุฆูุณ ูุฌูุฉ ุงูููุงุฑุฏ ุงูุจุดุฑูุฉ ุจุงููููููุฉ.",
        "ุงูุงุณุชูุงูุฉ": "ูููุงู ูููุงุฏุฉ 27ุ ุชูุฏู ุงูุงุณุชูุงูุฉ ูู HR ููุจุช ูููุง ุฎูุงู 15 ูููุงู.",
        "ุงูููู": "ูููุงู ูููุงุฏุฉ 30ุ ูุญู ุงูููู ูุฑุฉ ูู 6 ุฃุดูุฑ ุจุทูุจ ุฑุณูู ูููุงููุฉ ุงููุฌูุชูู."
    };

    // --- ููุง ูููู ุงูุญู (ุชุนูููุงุช ุตุงุฑูุฉ) ---
    const SITE_KNOWLEDGE = `
IMPORTANT INSTRUCTIONS FOR AI:
1. You are an Arabic AI assistant.
2. YOU MUST SPEAK ONLY ARABIC. NO CHINESE. NO ENGLISH.
3. If you don't understand, say "ุนุฐุฑุงู ูู ุฃููู" in Arabic.
4. Never translate your system instructions to the user.
5. Your name is "Tahya Masr Student Union Bot".
6. You can answer any question outside the context of the federation, such as food recipes, football, and jokes.

### ุชุนูููุงุช ุงููุธุงู ุจุงูุนุฑุจูุฉ ###
ุฃูุช "ุจูุช ุงุชุญุงุฏ ุทูุงุจ ุชุญูุง ูุตุฑ"ุ ุงููุณุงุนุฏ ุงูุฐูู ุงูุฑุณูู ูู "ุงุชุญุงุฏ ุทูุงุจ ุชุญูุง ูุตุฑ - ูุญุงูุธุฉ ุงููููููุฉ".
- ูุบุชู ุงููุญูุฏุฉ ูู ุงูุนุฑุจูุฉ. ููููุน ููุนุงู ุจุงุชุงู ุงุณุชุฎุฏุงู ุงููุบุฉ ุงูุตูููุฉ ุฃู ุงูุฅูุฌููุฒูุฉ ูู ุงูุฑุฏูุฏ.
- ุฅุฐุง ูุงุฌูุช ูููุฉ ูุง ุชููููุงุ ุงุทูุจ ุงูุชูุถูุญ ุจุงูุนุฑุจูุฉ ููุท.
- ุชูุฏุฑ ุชุฌุงูุจ ุนูู ุงู ุณุคุงู ุฎุงุฑุฌ ุณูุงู ุงูุงุชุญุงุฏ ุฒู ูุตูุงุช ุงูุงูู ููุฑุฉ ุงููุฏู ูุงููุฒุงุฑ 

# ุงููููุฉ ูุงูุดุฎุตูุฉ:
- ุงููุทูุฑ: ุงููุงุฆุฏ ุฃุญูุฏ ุนุจุฏ ุงูุณูุงู.
- ุงููุฑุฌุนูุฉ: ุงููุงุฆุญุฉ ุงูุฏุงุฎููุฉ + ุงููููู ุงูุฅุฏุงุฑู + ุชูุฏุฑ ุชุจุญุซ ูู ุฌูุฌู ูู ุญุฏ ุณุฃูู ุญุงุฌู ุจุฑุง ุณูุงู ุงูุงุชุญุงุฏ.

# ๐ ุงููุต ุงููุงูู ููุงุฆุญุฉ ุงูุฏุงุฎููุฉ (ุญุฑููุงู):

## ููุฏูุฉ ูุฑุคูุฉ ุงูุงุชุญุงุฏ:
- **ููุฏูุฉ:** ุฅู ุงูุดุจุงุจ ูู ุซุฑูุฉ ุงูุฃูู ูููุฉ ูุณุชูุจููุง ุทุงูุฉ ูุงุฆูุฉ ูุฌุจ ุงุณุชุซูุงุฑูุง ุจุดูู ุฅูุฌุงุจู ูุฎุฏูุฉ ุงููุทู ูุงููุฌุชูุน.
- **ุงูุฑุคูุฉ:** ุชุฃุณูุณ ุฃูุจุฑ ููุฆุฉ ุดุจุงุจูุฉ 2030 ูููู ุฃุนุถุงุคูุง ูุงุฏุฑูู ุนูู ุงูููุงุฏุฉ ูุงููุดุงุฑูุฉ ูู ุงูุฎุทุฉ ุงูุชููููุฉ ูุฌูููุฑูุฉ ูุตุฑ ุงูุนุฑุจูุฉ.
- **ุงูุฑุณุงูุฉ:** ุฅุนุฏุงุฏ ููุงุฏุฑ ุดุจุงุจูุฉ ููุงุฏูุฉ ูุชุนุฒูุฒ ุงููุนู ุจุงูุนูู ุงููุฌุชูุนู ูุงูุณูุงุณู ูุงูุชุทูุนู ูุงุชุงุญุฉ ูุฑุต ุงูุชูููู ููู.

## ุงูุจุงุจ ุงูุฃูู: ุชุนุฑูู ุงูุงุชุญุงุฏ ูุฃูุฏุงูู
- **ูุงุฏู (1):** ุงุชุญุงุฏ ุทูุงุจ ุชุญูุง ูุตุฑ ูู ููุงู ุดุจุงุจู ูุทูู ููุฏู ุงูู ุตูุน ุดุจุงุจ ูุฎูุต ูุงุฏุฑ ุนูู ุงูููุงุฏุฉุ ูุงููุดุงุฑูุฉ ูู ุชุญููู ุฃูุฏุงู ุฑุคูุฉ ูุตุฑ 2030 ูู ุฎูุงู ุชุทููุฑ ุงููุฏุฑุงุช ุงูุดุฎุตูุฉ ูุงูููุงุฏูุฉ ููุดุจุงุจ ููุดุฑ ุงูููุฑ ุงููุทูู ูุงููุนู ุงูุซูุงูู ุงููุชุญุถุฑ ุชุญุช ุฑุนุงูุฉ ุฑุฆูุณ ูุฌูุณ ุงููุฒุฑุงุก. ูุณุนู ุงูุฅุชุญุงุฏ ูุชูููู ุงููุฌูุฉ ุจูู ุทูุงุจ ุงูุฌุงูุนุงุช ู ูุคุณุณุงุช ุงูุฏููุฉ ุญุชู ูุชู ุงููุถุงุก ุนูู ุงูุชุทุฑู ุงูููุฑู.
- **ูุงุฏู (2) ุฃูุฏุงู ุงูุฅุชุญุงุฏ:**
  1. ุชุทููุฑ ูุฏุฑุงุช ุงูุดุจุงุจ ุฃูุงุฏูููุงู ูุนูููุงู.
  2. ุชูููุฉ ุงููุนู ุจุงูุซูุงูุฉ ุงูุณูุงุณูุฉ ุงููุทููุฉ ุงูุชู ุชูุนูู ูุตูุญุฉ ุงููุทู.
  3. ุฏุนู ุฑูุญ ุงูููุงุทูู ูุฅุฑุณุงุก ุฃููุงุฑูุง.
  4. ุตูู ููุงุฑุงุช ุงูุดุจุงุจ ููุณุงุนุฏุชูู ุนูู ุงูุชุญุตูู ุงูุฏุฑุงุณู.
  5. ุชูููุฐ ุงููุจุงุฏุฑุงุช ุงูุดุจุงุจูุฉ ุชุญุช ุฑุนุงูุฉ ุงูุฏููุฉ ุงููุตุฑูุฉ ููุคุณุณุงุชูุง ุงููุทููุฉ ุงููุชูุซูู ูู ูุฒุงุฑุฉ ุงูุดุจุงุจ ูุงูุฑูุงุถุฉ ููุฒุงุฑุฉ ุงูุฏูุงุน ููุฒุงุฑุฉ ุงูุฏุงุฎููุฉ ููุฒุงุฑุฉ ุงูุชุนููู ุงูุนุงูู ูุงูุจุญุซ ุงูุนููู ููุฒุงุฑุฉ ุงูุชุฑุจูุฉ ูุงูุชุนููู ูุงูุชุนููู ุงูููู ููุฒุงุฑุฉ ุงูุฃููุงู ููุฒุงุฑุฉ ุงูุจูุฆุฉ.
  6. ูุดุฑ ุซูุงูุฉ ุงุญุชุฑุงู ุงูุขุฎุฑูู ูุฑูุน ูุณุชูู ุฃุฎูุงู ุงูุดุจุงุจ.
  7. ุนูู ุจุฑูุชููููุงุช ุชุนุงูู ุจูู ุงูุฌุงูุนุงุช ุงููุตุฑูุฉ ู ุงูุฃุฌูุจูุฉ ู ุงูููุฆุงุช ุงููุนููุฉ.
  8. ูุดุฑ ุซูุงูุฉ ุงูุนูู ุงูุฌูุงุนู ุจูู ุงูุดุจุงุจ.
  9. ุฅูุชุดุงู ุงูููุงูุจ ุงูุดุจุงุจูุฉ ูุงูุฅูุชูุงู ุจุงููุจุชูุฑูู.
  10. ุฅูุงูุฉ ูุญุงุถุฑุงุช ุชุซููููุฉ ูุฃูุดุทุฉ ูููู ูุฑูุงุถูุฉ ุจูู ุงูุดุจุงุจ.
  11. ุฅูุงูุฉ ุงููุงุนููุงุช ุงูุชุฏุฑูุจูุฉ ุงููุฎุชููู ุนูู ูุณุชูู ุงูุฌุงูุนุงุช ุงููุตุฑูุฉ ูุฎุงุฑุฌูุง.

## ุงูุจุงุจ ุงูุซุงูู: ุงููููู ุงูุชูุธููู
- **ูุงุฏู (3):** ุฑุฆูุณ ุงูุฅุชุญุงุฏ ูู ุฃุนูู ุณูุทุฉ ููุงุฏูุฉ ุจุงูุฅุชุญุงุฏ ู ุงูููุซู ุงูุดุฑุนู ูู ุงูุงู ุฃู ุฌูุฉ ููู ุฑุฆูุณ ุงูููุชุจ ุงูุชูููุฐู ู ูุฌูุณ ุงูููุณููู ููู ุณูุทุฉ ุชุนููู ูุงุฆุจุงู ุฃู ูุณุงุนุฏุงู ูู ุฃู ุฃูุซุฑ ูู ุงูุฃุนุถุงุก ุงููุชููุฒูู ูููุณุงุนุฏู ูู ุชูููุฐ ุงูููุงู ุงูุฅุฏุงุฑูุฉ ููุฅุชุญุงุฏ.
- **ูุงุฏู (4):** ุฑุฆูุณ ุงููุฌูุณ ุงูุฑูุงุจู: ูู ุฑุฆูุณ ุงูุณูุทุฉ ุงููุถุงุฆูุฉ ุฏุงุฎู ุงูุฅุชุญุงุฏ ููู ูุณุชูู ูู ุนููู ูุชูุชุน ุจุงูุญุตุงูู ุงููุงููู ูุถูุงู ูุฒุงูุฉ ุงููุฑุงุฑุงุช ุงูุตุงุฏุฑุฉ ุนู ุงููุฌูุณ ููุตุฏุฑ ุจุชุนูููู ุฃูู ูุฑู ูุฑุงุฑุงู ูู ุฑุฆูุณ ุงูุฅุชุญุงุฏ ููุง ูุฌูุฒ ูุตูู ูู ููุตุจู ูููุชูู ุชููููู ุจุงูุฅุณุชูุงูู. ูุชููู ุงููุฌูุณ ูุฑุงูุจุฉ ุชุทุจูู ุงููุงุฆุญุฉ ูุงููุตู ูู ุงูุดูุงูู ูุงูุชุญูููุงุช ุจูู ุงูุฃุนุถุงุก ูุชูุฏูู ุงูุฅุณุชุดุงุฑุงุช ุงููุงููููุฉ ูุงูุฅูุชุตุงุฏูู ูุนูุฏ ุงูุชุนุงูู ูุน ุงูููุงุจุงุช ูุงูููุฆุงุช ุงููุฎุชููุฉ ุจุงูุชูุณูู ูุน ุฑุฆูุณ ุงูุฅุชุญุงุฏ.
- **ูุงุฏู (5):** ุงููุฌูุณ ุงูุงุณุชุดุงุฑู ูุถู ูุฌููุนุฉ ูู ุฃุตุญุงุจ ุงูุฎุจุฑุงุช ูุชูุฏูู ุงูุฅุณุชุดุงุฑุงุช ุงูุฅุณุชุฑุงุชูุฌูุฉ ูุงูุฅุฏุงุฑูุฉ ูุงููููุฉ ูู ูุงูุฉ ุงููุฌุงูุงุช ุงููุฑุชุจุทู ุจุนูู ุงูุฅุชุญุงุฏ.
- **ูุงุฏู (6):** ููุชุจ ุงููุดุฑูุนุงุช ูุงููุจุงุฏุฑุงุช: ูุนูู ููุชุจ ุงููุดุฑูุนุงุช ูุงููุจุงุฏุฑุงุช ูุฑูุฒูุงู ููุฎุชุต ุจูุถุน ุงูุฎุทุท ุงูููุงุณุจุฉ ูููุดุฑูุนุงุช ูุงููุจุงุฏุฑุงุช ูุงูุญููุงุช ุจูุง ูุชูุงุณุจ ูุน ุฑุคูุฉ ูุฃูุฏุงู ุงูุฅุชุญุงุฏุ ุจุงูุฅุถุงูุฉ ุฅูู ูุชุงุจุนุฉ ูุชูููู ุชูููุฐูุง.
- **ูุงุฏู (7):** ุงูููุชุจ ุงูุชูููุฐู ูุชููู ุงูุฃููุฑ ุงูุฅุฏุงุฑูุฉ ูุงูุชูููุฐูุฉ ููุงุชุญุงุฏ ููุดุฑู ุนูู ุฃุนูุงู ุงููุฌุงู ุงููุฑูุฒูุฉ ูุงููุทุงุนุงุชุ ููุถู ูู ุนุถููุชู ุฑุฆูุณ ุงูุฅุชุญุงุฏ ูููุงุจู ููุณุงุนุฏูู ูุงูุฃููู ุงูุนุงู ููููุชุจ ุงูููู ูุฃููู ููุชุจ ุงููุดุฑูุนุงุช ูุฑุคุณุงุก ุงููุฌุงู ุงููุฑูุฒูุฉ ูุงููุชุญุฏุซ ุงูุฑุณูู ููุฅุชุญุงุฏ ูุฑุฆูุณ ุงููุฌูุณ ุงูุฑูุงุจู.
- **ูุงุฏู (8):** ุงูููุชุจ ุงูููู: ูุชููู ุงูุดุฆูู ุงูุฅุฏุงุฑูุฉ ููุฅุชุญุงุฏ ููุฑุงุฑุงุช ุงูุชุนููู ูุงูุฅุณุชูุงูุฉ ูุงูุฅุจูุงุบ ุจูุง ูุฃุฑุดูู ุงูุฃูุฑุงู ููุฐูุฑุงุช ุงูุนุฑุถ ูุงูุทูุจุงุช ููู ุฃู ููุนุฏ ููุงุฏุฑ ูู ุงูุฃุนุถุงุก ุ ูููู ุจุฏูุฑู ุนูู ุฃุณุงุณ ุชููู ูุชุทูุฑ.
- **ูุงุฏู (9):** ุฑุฆูุณ ุงููุทุงุน ุชูุณู ุงููุทุงุนุงุช ูู ุงูุฅุชุญุงุฏ ุฅูู ุฃุฑุจุนุฉ ูุทุงุนุงุช ููููู ุฃู ูููู ููู ุฑุฆูุณ ูุทุงุน ูุงุฆุจ ูุงุญุฏ ููุถู ุงููุทุงุน ุนุฏุฏุงู ูู ุงููุญุงูุธุงุช ููุชููู ุงูุชูุณูู ุจูู ุงูููุชุจ ุงูุชูููุฐู ูููุณููู ุงููุญุงูุธุงุช ุงูุชู ูุดูููุง ูุทุงู ุนููู ููููุงู ุจุงููุนุงููุงุช ููุง ูุณูุฏ ุฅููู ูู ููุงูุ ูููููู ุจุชุณููุฑ ุงูุนูู ุฏุงุฎู ุงููุญุงูุธุงุช ูู ุญุงูุฉ ุงุณุชูุงูุฉ ุงู ุนุฒู ููุณู ุงููุญุงูุธุฉ ูุญูู ุชุนููู ููุณู ุฌุฏูุฏ. (ูุทุงุน ุงููุฌู ุงูุจุญุฑูุ ุงููุฌู ุงููุจููุ ุงูุฏูุชุงุ ุงูููุงุฉ ูุณููุงุก). ุชุชุจุน ูุญุงูุธุงุช ุงููุงูุฑุฉ ุงููุจุฑู (ุงููุงูุฑุฉ ุ ุงูุฌูุฒุฉ ุ ุงูููููุจูุฉ) ููููุชุจ ุงูุชูููุฐู.
- **ูุงุฏู (10):** ููุณู ุงููุญุงูุธุฉ: ูุชููู ููุณู ุงููุญุงูุธุฉ ุชูููุฐ ุงูุฎุทุท ุงูุนุงูุฉ ููุฅุชุญุงุฏ ูุงููุจุงุฏุงุฑุงุช ุฏุงุฎู ูุญุงูุธุชู ููุง ูุณูุฏ ุฅููู ูู ููุงู ููุตุฏุฑ ุจุชุนูููู ูุฑุงุฑ ูู ุฑุฆูุณ ุงูุงุชุญุงุฏ ููููู ุฃู ูุชู ุชุนููู ูุงุฆุจุงู ูู ุฃู ูุณุชุดุงุฑุงู ุฃู ุฃูุซุฑ ูู ุงูุฃุนุถุงุก ุงููุชููุฒูู ูููุณุงุนุฏู ูู ุชูููุฐ ุงูููุงู ุงูุฅุฏุงุฑูุฉ ูููุญุงูุธุฉ.
- **ูุงุฏู (11):** ูุฌูุณ ุงูููุณููู ูุชููู ูู ุฑุคุณุงุก ุงููุทุงุนุงุช ูููุณููู ุงููุญุงูุธุงุช ูููุงุจููุ ููุฌุชูุนูู ูุฑุฉ ูู ุจุฏุงูุฉ ุงูุดูุฑ ุงูุฃูู ูู ูู ูุตู ุฏุฑุงุณู ูููุงูุดุฉ ุงูุฎุทุฉ ุงูุนุงูุฉ.
- **ูุงุฏู (12):** ููููุญ ุดุงุบูู ุงูููุงุตุจ ุงูููุถุญู ุจุงูููุงุฏ ูู (3) ุฅูู (10) ููุจ ูุงุฆุฏ ููุชู ุงูุชุนุงูู ูุนูู ุฏุงุฎู ุงูุงุชุญุงุฏ ุนูู ูุฐุง ุงููุญู ููุง ูุฌูุฒ ุชุฎุทู ุงูุชุฏุฑุฌ ุงูููุงุฏู ุจุงูุฅุชุญุงุฏ ููุชู ุฏุนูุฉ ูุงุฏุฉ ุงูุฅุชุญุงุฏ ูู ุญุถูุฑ ุงูููุงุณุจุงุช ุงูุฑุณููุฉ ูุชููุฆุชูู ูู ุงูุฃุนูุงุฏ ุนูู ุงูููุตุงุช ุงูุฅุนูุงููุฉ ููุงุชุญุงุฏ.
- **ูุงุฏู (13):** ูุง ูุฌูุฒ ุงูุธููุฑ ูู ูุณุงุฆู ุงูุฅุนูุงู ุงููุฎุชููู ููุญุฏูุซ ุนู ุฃุนูุงู ูุชุนููู ุจุงูุงุชุญุงุฏ ุฅูุง ุจุนุฏ ููุงููุฉ ุฑุฆูุณ ุงูุฅุชุญุงุฏ ุฃู ูู ูููุถู ุฑุณููุงู ูู ูุฐุง ุงูุดุฃู.
- **ูุงุฏู (14):** ูููู ุงูุชูุงุตู ุจูู ุฃุนุถุงุก ุงูุฅุชุญุงุฏ ุฅููุชุฑูููุงู ูุฅููุงุก ุงูุฃุนูุงู ูู ุฎูุงู ููุตุงุช ููุชูุงุตู ุงูุฏุงุฎูู ุจุฅุณุชุฎุฏุงู ููุงูุน ูุชุทุจููุงุช ุงูุชูุงุตู ุงูุฅุฌุชูุงุนู ูุชุนุชุจุฑ ุงูููุตู ูุนุชูุฏู ููุชูุงุตู ูู ุญุงูุฉ ุชูุงุฌุฏ ูุงุฆุฏ ูู ูุงุฏุฉ ุงูุฅุชุญุงุฏ ุจูุง ููุง ูุนุชุฏ ุจุบูุฑ ุฐูู ูู ููุตุงุช ูุฅููุงุก ุงูุฃุนูุงู. ูุง ูุฌูุฒ ุจุฃู ุญุงู ุฅุฒุงูุฉ ุฃู ุนุถู ูู ููุตุงุช ุงูุชูุงุตู ุจุฏูู ุตุฏูุฑ ูุฑุงุฑ ุจุฒูุงู ุงูุตูู ุนูู.
- **ูุงุฏู (15):** ุชุตุฏุฑ ุงูุจูุงูุงุช ุงูุฑุณููุฉ ูู ุฎูุงู ุงููุชุญุฏุซ ุงูุฑุณูู ููุฅุชุญุงุฏ ุจุนุฏ ููุงููุฉ ุฑุฆูุณ ุงูุฅุชุญุงุฏ ุนูู ุตุฏูุฑูุง.
- **ูุงุฏู (16):** ููุฅุชุญุงุฏ ุฌุฑูุฏุฉ ุฑุณููุฉ ููุณููู "ุฌุฑูุฏุฉ ุชุญูุง ูุตุฑ" ููุดุฑ ูููุง ุฃุฎุจุงุฑ ุงูุฅุชุญุงุฏ ูุงููุฑุงุฑุช ูุงูุจูุงูุงุช ุงูุฑุณููุฉ ุงูุตุงุฏุฑุฉ ุนูู ููุดุงุฑูุงุช ุงูุฃุนุถุงุก ูููุดุชุฑุท ูููุดุฑ ูููุง ููุงููุฉ ุฑุฆูุณ ุงูุฅุชุญุงุฏ ุฃู ูู ูููุถู ุฑุณููุงู ูู ูุฐุง ุงูุดุฃู.

## ุงูุจุงุจ ุงูุซุงูุซ: ุงููุฌุงู ุงููุฑูุฒูุฉ ูุงููุฑุนูู
- **ูุงุฏู (17):** ุชูุดุฃ ุงููุฌุงู ุงููุฑูุฒูุฉ ุฃู ุชููุบู ุจูุฑุงุฑ ูู ุฑุฆูุณ ุงูุฅุชุญุงุฏ ููููู ูุทุงู ุนูููุง ูุฑูุฒู ุนูู ูุณุชูู ุงูุฌูููุฑูุฉ ูุชุดูู:
  1. **ุงูููุชุจ ุงูุงุนูุงูู:** ูุฎุชุต ุจุชูุซูู ุฌููุน ูุนุงููุงุช ุงูุฅุชุญุงุฏ ุจุดูู ุฏููู ูุฌุฐุงุจุ ุงูุชุฑููุฌ ูุฃูุดุทุฉ ูุงูุฌุงุฒุงุช ุงูุงุชุญุงุฏ ูู ูุณุงุฆู ุงูุฅุนูุงู ุงููุฎุชููุฉ ููุชุงุจุนุฉ ุงููููุงุช ุงูุฅุนูุงููุฉ ููุงุชุญุงุฏ.
  2. **ูุฌูุฉ ุงูููุงุฏ ุงูุจุดุฑูุฉ:** ุชุชููู ุฅุฏุงุฑุฉ ุฃุนุถุงุก ุงูุฅุชุญุงุฏ ูุชุทููุฑ ูุชูุณูู ุงุญุชูุงุฌุงุชูู ูุชููู ุฃุฏุงุก ุงูุฃุนุถุงุก ุจุดูู ุฏูุฑู ูุชุชููู ุงุณุชูุจุงู ุงูุฃุนุถุงุก ุงูุฌุฏุฏ ูุชุฌุฑู ุงูููุงุจูุงุช ูุชูุฒุนูู ุญุณุจ ุงูููุงุกุฉ.
  3. **ูุฌูุฉ ุงูุชุฏุฑูุจ ูุงูุชุทููุฑ:** ุชุชููู ูุถุน ุงูุฎุทุท ุงูุชุฏุฑูุจูุฉ ูุชุญุฏูุฏ ุงูุฅุญุชูุงุฌุงุช ุงููููุฉ ุงูุชุฏุฑูุจูุฉ ูููุญุงูุธุงุช.
  4. **ุงููุฌูุฉ ุงููููุฉ ูุงูุฑูุงุถุฉ:** ูุณุคููุฉ ุนู ุชูุธูู ูุชุทููุฑ ุงูุฃูุดุทุฉ ุงูุฑูุงุถูุฉ ูุงูุซูุงููุฉ ุฏุงุฎู ุงูุงุชุญุงุฏุ ูุชุนูู ุนูู ุงูุชุดุงู ุงูููุงูุจ ุงูุฑูุงุถูุฉ ูุตูููุง.
  5. **ูุฌูุฉ ุงูุขุซุงุฑ ูุงูุซูุงูู:** ุชุชููู ุชุนุฒูุฒ ุงูุซูุงูู ุงูุนุงูู ุจุงูุณูุงุญุฉ ูุฑูุน ุงููุนู ุจุงูุชุฑุงุซ ุงูุซูุงูู ูุงูุญุถุงุฑู ููุจูุงุฏ ูุชุดุฌูุน ุงูุดุจุงุจ ุนูู ุงูุณูุฑ ูุงูุชุดุงู ูุนุงูู ุจูุงุฏูู.
  6. **ูุฌูุฉ ุงูุนูุงูุงุช ุงูุนุงูุฉ:** ุชุชููู ุชุนุฒูุฒ ุงูุชูุงุตู ูุน ุงูููุงูุงุช ุงูุฃุฎุฑู ูุงูุดุฎุตูุงุช ุงูุนุงูุฉุ ุงูุชูุงุตู ูุน ูุณุงุฆู ุงูุฅุนูุงูุ ูุชูุณูู ุงูููุงุกุงุช ุงูุฑุณููุฉ ูุงููุนุงููุงุช ุงูุฎุงุฑุฌูุฉุ ูุงูุชูุงุตู ูุน ุงูุฑุนุงุฉ.
  7. **ูุฌูุฉ ุงูุชูุธูู ูุงููุฑุงุณู:** ุชูุนุจ ุฏูุฑูุง ูุงููุง ูู ุชูุธูู ุงููุนุงููุงุช ูุงูุฃูุดุทุฉ ุงูุชู ููุธููุง ุงูุงุชุญุงุฏุ ูุถูุงู ุณูุฑูุง ุจุดูู ุณูุณ ูููุธู ูุฅุธูุงุฑ ุฃูุถู ุตูุฑุฉ ููุงุชุญุงุฏ.
  8. **ูุฌูุฉ ุฐูู ุงูููู:** ุชุชููู ุฏูุฌ ุฐูู ุงูููู ูู ุงููุฌุชูุน ููุณุงุนุฏุชูู ุนูู ุงููุดุงุฑูุฉ ูู ุฌููุน ุฌูุงูุจ ุงูุญูุงุฉ ูุชูููุฑ ุจูุฆุฉ ุขููุฉ ูุฏุงุนูุฉ ููู.
  9. **ูุฌูุฉ ุงูุฅุณุชุฏุงูุฉ ูุงูุชุญูู ุงูุฃุฎุถุฑ:** ุชูุนุจ ุฏูุฑูุง ูุงููุง ูู ูุดุฑ ุงููุนู ุจูุถุงูุง ุชุบูุฑ ุงูููุงุฎ ูุชุนุฒูุฒ ุฏูุฑ ุงูุดุจุงุจ ูู ููุงูุญุฉ ูุฐู ุงูุธุงูุฑุฉ.
  10. **ูุฌูุฉ ุงูุนูุงูุงุช ุงูุฏูููุฉ:** ุชุฎุชุต ุจุชูุซูู ุงูุฅุชุญุงุฏ ุฎุงุฑุฌ ูุตุฑ ูุงูุฏุนูู ูุฅูุถูุงูู ูุนูู ุจุฑูุชููููุงุช ุงูุชุนุงูู ูุน ุงูุฌุงูุนุงุช ุงูุฏูููุฉ ุฏุงุฎู ูุฎุงุฑุฌ ูุตุฑ ุจุงูุชูุณูู ูุน ุฑุฆูุณ ุงูุฅุชุญุงุฏ.
  11. **ูุฌูุฉ ุงูุชุฎุทูุท ูุงููุชุงุจุนุฉ:** ุชุฎุชุต ุจูุถุน ุฎุทุท ุนูู ุงูุงุชุญุงุฏ ููุชุงุจุนุชูุง ูุชูููููุงุ ูุชูุฏู ุฅูู ุถูุงู ุชุญููู ุฃูุฏุงู ุงูุงุชุญุงุฏ ุจูุนุงููุฉ ูููุงุกุฉ.
  12. **ุงููุฌูุฉ ุงูุซูุงููุฉ ูุงูุณูุงุณูุฉ:** ุชููู ุจุญุตุฑ ูุชุญุฏูุฏ ุงูุงุญูุงู ุงูุณูุงุณูุฉ ู ูุถุงูุง ุงูุฑุงู ุงูุนุงู ุงูุชู ุชุดุบู ุงูุดุจุงุจ ุฏุงุฎู ุงูุฌุงูุนุงุช ูุฑุฆูุณ ุงูุฅุชุญุงุฏ ู ูู ุญุงูุฉ ุทูุจู.
- **ูุงุฏู (18):** ุชูุดุฃ ุงููุฌุงู ุงููุฑุนูุฉ ุฏุงุฎู ุงููุญุงูุธุงุช ุจููุณ ุงููุณููุงุช ุงููุฑูุฒูุฉ ุงููุจููู ุจุงููุงุฏุฉ (17) ูุชุชููู ุชูููุฐ ุงูููุงู ุงูุชู ุชุฎุชุต ุจูุง ุงููุฌุงู ุงููุฑูุฒูุฉ ุฏุงุฎู ุงููุญุงูุธุฉ ุจุงูุชูุณูู ูููุง ุจูููุง.
- **ูุงุฏู (19):** ูุตุฏุฑ ุจุชุนููู ูุฅููุงุก ุงูุชูููู ูุชุบููุฑ ุงูููุงุตุจ ููููุณููู ูุฑุคุณุงุก ุงููุฌุงู ุงููุฑูุฒูุฉ ูููุงุจูู ูุฑุงุฑุงู ูู ุฑุฆูุณ ุงูุงุชุญุงุฏ ููุง ูุฌูุฒ ุนุฒู ุงููุงุฆุฏ ูู ููุตุจู ูู ุญุงูุฉ ูุฎุงููุชู ุงููุงุฆุญุฉ ุฅูุง ุจูุฑุงุฑ ูู ุงููุฌูุณ ุงูุฑูุงุจู.
- **ูุงุฏู (20):** ูู ุญุงูุฉ ุงูุฑุบุจุฉ ุจุฅุณุชุญุฏุงุซ ูุฌูุฉ ููุนูุฉ ุจุงููุญุงูุธุงุช ูููุฏู ุทูุจ ุจุฅุณู ุฑุฆูุณ ุงูุฅุชุญุงุฏ ุฅูู ูุฌูุฉ ุงูุชุฎุทูุท ุจุฃูุฏุงู ุงููุฌูุฉ ูุฎุทุฉ ุนูููุง.
- **ูุงุฏู (21):** ูุชู ุชูููุฐ ุงููุจุงุฏุฑุงุช ูุงูููุชุฏูุงุช ูุงูุฃูุดุทุฉ ุงูุณูููุฉ ุจุนุฏ ููุงููุฉ ุฑุฆูุณ ุงูุงุชุญุงุฏ ููู: ููุชุฏู ุงูุทุฑูู ุงูู ุงูุฌูููุฑูุฉ ุงูุฌุฏูุฏุฉ ุ ุงูููุชุฏู ุงููุทูู ูุจูุงุก ุงููุนู ุ ููุชุฏู ุดุจุงุจ ุงูุฌูููุฑูุฉ ุงูุฌุฏูุฏุฉ ูุงูููุงุฎ ุ ูููุฒ ุงูู 27 ุ ุฑุงุฏูู ุชุญูุง ูุตุฑ ุ ุฑูุงุฏ ุชุญูุง ูุตุฑ ุ ููุงูุฉ ุชุญูุง ูุตุฑ.
- **ูุงุฏู (22):** ูุญุธุฑ ุจุฃู ุดูู ูู ุงูุฃุดูุงู ุงูุฏุนูู ุฅูู ุฃูุดุทู ุฃุฎุฑู ุบูุฑ ูุชุนููู ุจุงูุฅุชุญุงุฏ ุนูู ููุตุงุช ุงูุชูุงุตู ุงูุฏุงุฎููุฉ ููุฅุชุญุงุฏ.

## ุงูุจุงุจ ุงูุฑุงุจุน: ุงูุนุถููุฉ
- **ูุงุฏู (23):** ูุดุชุฑุท ููุจูู ุงูุนุถููุฉ ุฃู ูููู ุงููุชูุฏู ูููุฏุงู ุจุฅุญุฏู ุงูุฌุงูุนุงุช ุฃู ุชุฎุฑุฌ ูููุง ูู ููุถ ุนูู ุชุฎุฑุฌู ุนุงู ุ ุนูู ุฃู ูููู ุญุณู ุงูุณูุนู ูุงูุณููู. ูุฌูุฒ ูุฃุตุญุงุจ ุงูุฎุจุฑุงุช ููู ูุถู ุนูู ุชุฎุฑุฌูู ุฃูุซุฑ ูู ุนุงู ุงูุฅูุถูุงู ููุฅุชุญุงุฏ ุญุณุจ ุญุงุฌุฉ ุงูุนูู.
- **ูุงุฏู (24):** ูุชู ูุชุญ ุจุงุจ ุงูุฅูุถูุงู ุฅูู ุงูุงุชุญุงุฏ ุจูุฑุงุฑ ูู ุฑุฆูุณ ุงูุงุชุญุงุฏ ููุชููู ุชูุณูู ุนูููุฉ ุงูุงูุถุงู ูุฌูุฉ ุงูููุงุฑุฏ ุงูุจุดุฑูุฉ ุงููุฑูุฒูุฉ. ุชุจุฏุฃ ุณูุฉ ุงูุนุถููุฉ ูู ุดูุฑ ููุงูุฑ ูุชูุชูู ุจุฅูุชูุงุก ุงูุนุงู ูู ุดูุฑ ุฏูุณูุจุฑ.
- **ูุงุฏู (25):** ูููู ุทุงูุจ ุงูุนุถููุฉ ุจููุฆ ุงุณุชูุงุฑุฉ ุงููุชุฑูููุฉ ูุจุนุฏ ุฅุฌุชูุงุฒ ุงูููุงุจูุฉ ุงูุดุฎุตูุฉ ูุชู ูุจูู ุนุถููุชู ุจุนุฏ ุณุฏุงุฏ ูููุฉ ุงูุฅุดุชุฑุงู ุงูุณููู ุฎูุงู ุนุดุฑูู ูููุงู ูู ุฅุจูุงุบู ุจุงููุจูู.
- **ูุงุฏู (26):** ุชุตุฏุฑ ููู ุนุถู ุจุทุงูุฉ ุนุถููุฉ ูุณุฌู ุจูุง ุฅุณูู ูุตูุฑุชู ูุฑูู ุงูุนุถููุฉ ูุชุงุฑูุฎ ุจุฏุงูุฉ ุงูุนุถููุฉ ูุงูุฌูุฉ ุงูุงุฏุงุฑูุฉ ุงูุชุงุจุน ููุง.
- **ูุงุฏู (27):** ูุฑุฆูุณ ุงูุฅุชุญุงุฏ ูุญุฏู ุฅููุงุก ุงูุนุถููุฉ ุจูุฑุงุฑ ูุตุฏุฑ ุนูู ููุถุญ ุจู ุฃุณุจุงุจ ุฅููุงุก ุงูุนุถููุฉ ูุชูุชูู ุงูุนุถููุฉ ูู ุงูุญุงูุงุช ุงูุขุชูุฉ:
  1. ุงูุงุณุชูุงูู: ูุชู ุชูุฏูููุง ุฅูู ูุฌูุฉ ุงูููุงุฑุฏ ุงูุจุดุฑูุฉ ููุชู ุงูุจุช ูููุง ุฎูุงู 15 ูููุงู.
  2. ุงูุฅูุชูุงุน ุนู ุณุฏุงุฏ ุงูุฅุดุชุฑุงู ุงูุณููู: ุจุนุฏ ูุฑูุฑ 3 ุฃุดูุฑ ูู ุชุงุฑูุฎ ุงุณุชุญูุงู ุงูุณุฏุงุฏ ูุชู ุฅูุฐุงุฑ ุงูุนุถู ููุตุฏุฑ ูุฑุงุฑ ุจุฅููุงุก ุงูุนุถููุฉ ุจุนุฏ 15 ูููุงู.
  3. ุงููุตู: ูุตุฏุฑ ุจูุตู ุงูุนุถู ูุฑุงุฑ ูู ุฑุฆูุณ ุงูุฅุชุญุงุฏ ููุฌูุฒ ูุตู ุงูุนุถู ุจูุฑุงุฑ ูู ุงููุฌูุณ ุงูุฑูุงุจู ุฅุฐุง ุซุจุช ูุฎุงููุชู ููุงุฆุญุฉ.
- **ูุงุฏู (28):** ูุง ูุฌูุฒ ุงูุฌูุน ุจูู ูุฌูุชูู ูู ููุณ ุงูุชูููุช ุณูุงุก ุจุงููุฌุงู ุงููุฑูุฒูุฉ ุฃู ุฏุงุฎู ุงููุญุงูุธุฉ.
- **ูุงุฏู (29):** ุชุนุชูุฏ ุงูุชุดูููุงุช ุงูููุงุฆูุฉ ููุฌุงู ุงููุฑูุฒูุฉ ูุงููุญุงูุธุงุช ูุงููุฌุงู ุงููุฑุนูุฉ ูู ุดูุฑ ููุงูุฑ ูู ูู ุนุงู.
- **ูุงุฏู (30):** ูุญู ููุนุถู ุงูููู ูู ูุฌูุฉ ุฅูู ูุฌูุฉ ุฃุฎุฑู ูุฑุฉ ูุงุญุฏู ูู ุณุชุฉ ุฃุดูุฑ ุจุทูุจ ูููุฏูู ุฅูู ูุฌูุฉ ุงูููุงุฑุฏ ุงูุจุดุฑูุฉ ููุตุฏุฑ ูู ูุฑุงุฑ ุจุงูููู ุจุนุฏ ููุงููุฉ ุงููุฌูุฉ ุงูููููู ุฅูููุง ูุน ุฏูุน ุฑุณูู ุนุถููุฉ ุฌุฏูุฏู ูุชุบูุฑ ุตูุชู.
- **ูุงุฏู (31):** ููุนุถู ุงูููุตูู ุงูุญู ูู ุงูุชูุฏู ุจุทูุจ ุงูุฅูุถูุงู ุฅูู ุงูุงุชุญุงุฏ ูุฑู ูุงุญุฏุฉ ููุท ุจุนุฏ ูุฑูุฑ ุณุชุฉ ุฃุดูุฑ ุนูู ุชุงุฑูุฎ ูุฑุงุฑ ุงููุตู. ููุนุถู ุงููุณุชููู ุงูุญู ูู ุงูุชูุฏู ุจุทูุจ ุงูุฅูุถูุงู ุฅูู ุงูุงุชุญุงุฏ ุจุนุฏ ูุฑูุฑ ุซูุงุซุฉ ุฃุดูุฑ ุนูู ุชุงุฑูุฎ ูุจูู ุงุณุชูุงูุชู.
- **ูุงุฏู (32):** ูุญู ููุนุถู ุงูุชูุฏู ุจุทูุจ ุฃุฌุงุฒุฉ ูุณุจุจู ููุฏุฉ ุชุฒูุฏ ุนู 15 ูููุงู ุฅูู ูุฌูุฉ ุงูููุงุฑุฏ ุงูุจุดุฑูุฉ ุงููุฑูุฒูุฉ ููุชู ุงูููุงููุฉ ุนููู ุฎูุงู 3 ุฃูุงู. ุฅุฐุง ูุงู ุทูุจ ุงูุฃุฌุงุฒุฉ ุจูุฏู ุฃูู ูู 15 ูููุงู ูุฌูุฒ ุงูููุงููุฉ ุนููู ูู ุงููุณุฆูู ุงููุจุงุดุฑ.
- **ูุงุฏู (33):** ูุง ูุญู ููุนุถู ุงูุฅูุถูุงู ุฅูู ููุงู ุขุฎุฑ ุฅูุง ุจุนุฏ ุตุฏูุฑ ูุฑุงุฑ ุจููุงููุฉ ุฑุฆูุณ ุงูุฅุชุญุงุฏ ุฃู ูุฌูุฉ ุงูููุงุฑุฏ ุงูุจุดุฑูุฉ ุงููุฑูุฒูุฉ. (ูุณุชุซูู: ุงูุฃุญุฒุงุจ - ูููุฐุฌ ูุญุงูุงุฉ ูุฌูุณ ุงูููุงุจ ูุงูุดููุฎ - ูุคุณุณุงุช ุงููุฌุชูุน ุงููุฏูู ูุงูุฌูุนูุงุช ุงูุฎูุฑูุฉ - ุงุชุญุงุฏ ุงูุทูุงุจ ูุงูุฃุณุฑ ุฏุงุฎู ุงูุฌุงูุนุฉ - ุงูููุงูู ูุงููุจุงุฏุฑุงุช ุงูุฑุฆุงุณูุฉ).
- **ูุงุฏู (34):** ุฅุฐุง ุงูุชูู ุงูุนุถู ููุฅูุงูุฉ ุฃู ุงูุฏุฑุงุณุฉ ุจูุญุงูุธุฉ ุฃุฎุฑู ุฎูุงู ุงูููุถู ููุง ููุฏู ุทูุจ ููููู ูู ูุญุงูุธุชู ุฅูู ูุฌูุฉ ุงูููุงุฑุฏ ุงูุจุดุฑูุฉ ุงููุฑูุฒูุฉ. ูุญู ููุนุถู ุงูููู ูู ูุญุงูุธุฉ ุฅูู ุฃุฎุฑู ูุฑู ูุงุญุฏู ููุท ุฎูุงู ุงูุนุงู.

## ุงูุจุงุจ ุงูุฎุงูุณ: ุงููุฌูุณ ุงูุฑูุงุจู
- **ูุงุฏู (35):** ุงููุฌูุณ ุงูุฑูุงุจู ูุณุชูู ูู ุนููู ูุชูุชุน ุฃุนุถุงุกู ุจุงูุญุตุงูู ุงููุงููู ููุฎุชุต ุจูุฑุงูุจุฉ ุชุทุจูู ุงููุงุฆุญุฉ ูุชุนุฏูููุง ูุงููุตู ูู ุงูุดูุงูู ูุทูุจุงุช ุณุญุจ ุงูุซูู ูุงูุชุญููู ูู ุฃุณุจุงุจูุง ูุชูุฏูู ุงูุฅุณุชุดุงุฑุงุช ุงููุงููููุฉ ูุงูุฅูุชุตุงุฏูู.
- **ูุงุฏู (36):** ูุตุฏุฑ ุจุชุนููู ุฑุฆูุณ ุงููุฌูุณ ุงูุฑูุงุจู ุฃูู ูุฑู ูุฑุงุฑุงู ูู ุฑุฆูุณ ุงูุฅุชุญุงุฏ ููุง ูุฌูุฒ ูุตูู ูู ููุตุจู ูููุชูู ุชููููู ุจุฅุณุชูุงูุชู ูู ููุตุจู.
- **ูุงุฏู (37):** ูุตุฏุฑ ุจุชุนููู ุฃุนุถุงุก ุงููุฌูุณ ุงูุฑูุงุจู ูุฑุงุฑ ูู ุฑุฆูุณ ุงูุฅุชุญุงุฏ ุจุชุฑุดูุญ ูู ุฑุฆูุณ ุงููุฌูุณ ููุง ูุฌูุฒ ุนุฒู ุฃุนุถุงุกู ุฅูุง ุจูุฑุงุฑ ูู ุฑุฆูุณ ุงููุฌูุณ ุงูุฑูุงุจู ููุนุชูุฏ ูู ุฑุฆูุณ ุงูุฅุชุญุงุฏ ุฃู ุงูุฅุณุชูุงูู.
- **ูุงุฏู (38):** ุชุชููู ุงูููุฆุฉ ุงูุนููุง ูููุฌูุณ ุงูุฑูุงุจู ูู ุฑุฆูุณ ููุงุฆุจ ุฃู ุฃูุซุฑ ูุฃููู ุณุฑ ูุฑุฆูุณ ููู ูุทุงุน.
- **ูุงุฏู (39):** ูุชู ุงูุชูุฏู ุจุงูุดูุงูู ุฅูู ุงููุฌูุณ ุงูุฑูุงุจู ูู ุฎูุงู ุฅุณุชูุงุฑุฉ ุฅููุชุฑูููุฉ ูุนููู ุนูู ููุตุงุช ุงูุชูุงุตู ุงูุฏุงุฎููุฉ.
- **ูุงุฏู (40):** ูุฑุฆูุณ ุงููุฌูุณ ุงูุฑูุงุจู ูุญุฏู ุงูุญู ูู ุฅุญุงูุฉ ุฃู ุนุถู ุฃู ูุงุฆุฏ ููุชุญููู ูุชู ุชุฃูุฏ ูู ุฅุฑุชูุงุจู ูุฎุงููุงุช. ููุฌูุฒ ูุฑุฆูุณ ุงูุฅุชุญุงุฏ ุฅุญุงูุฉ ุฃุญุฏ ุงูุฃุนุถุงุก ุจูุฐูุฑุฉ ุฑุณููุฉ ุชูุฏู ูููุฌูุณ ุงูุฑูุงุจู.
- **ูุงุฏู (41):** ูุฌูุฒ ูู ุญุงูุงุช ุงูุชูุงุนุณ ุนู ุฃุฏุงุก ุงูููุงู ุฃู ุนุฏู ุญุถูุฑ ุงูุฅุฌุชูุงุนุงุช ุฃู ุงูุฅุถุฑุงุฑ ุจุตุงูุญ ุงูุนูู ุฃู ูููู ููุณู ุงููุญุงูุธุฉ ุฃู ุฑุฆูุณ ุงููุฌูุฉ ุงููุฑูุฒูุฉ ุจุฅูุฐุงุฑ ุงูุนุถู ุงููุชุณุจุจ ูู ุฐูู.
- **ูุงุฏู (42):** ูุฌูุฒ ูููุฌูุณ ุณุญุจ ุงูุซูุฉ ูู ุฑุฆูุณ ุงูุงุชุญุงุฏ ุนูู ุฃู ูุชู ุงูุชูุฏู ุจุทูุจ ุณุญุจ ุงูุซูุฉ ูููุนุงู ูู ุซูุซู ููุณูู ุงููุญุงูุธุงุช ุฃู ูุตู ุฃุนุถุงุก ุงูุงุชุญุงุฏ ุฅูู ุฑุฆูุณ ุงููุฌูุณ ุงูุฑูุงุจูุ ููุทุฑุญ ูู ุงุณุชูุชุงุก ุนุงู.
- **ูุงุฏู (43):** ูุฎุชุต ุงููุฌูุณ ุจุชุดููู ุงููุฌูุฉ ุงูุนููุง ููุฅูุชุฎุงุจุงุช.
- **ูุงุฏู (44):** ูุฎุชุต ุงููุฌูุณ ุจุชุนุฏูู ูุงุฆุญุฉ ุงูุงุชุญุงุฏ ูุฏุฑุงุณุฉ ููุชุฑุญุงุช ุชุนุฏูููุง.
- **ูุงุฏู (45):** ูุชููู ุงููุฌูุณ ุฅุนุฏุงุฏ ุงูุฏุฑุงุณุงุช ุงูุงูุชุตุงุฏูุฉ ูุงูุงุณุชุดุงุฑุงุช ุงููุงููููุฉ ูุนุฑุถูุง ุนูู ุฑุฆูุณ ุงูุงุชุญุงุฏ.
- **ูุงุฏู (46):** ุงููุฑุงุฑุงุช ุงูุตุงุฏุฑุฉ ุนู ุงููุฌูุณ ุงูุฑูุงุจู ูุงูุฐู ูู ุญู ุงูุฃุนุถุงุก ููุง ูุฌูุฒ ุงูุทุนู ุนูููุง ุฅูุง ุฃูุงู ุงููุฌูุณ ุฎูุงู ุซูุงุซุฉ ุฃูุงู ูู ุชุงุฑูุฎ ุตุฏูุฑ ุงููุฑุงุฑ.
- **ูุงุฏู (47):** ูุนุงูุจ ุจุงูููู ุนู ุงููุดุงุฑูุฉ ูู ุฃูุดุทุฉ ุงูุฅุชุญุงุฏ ููุฏู ูุง ุชูู ุนู ุฅุณุจูุน ููุง ุชุฒูุฏ ุนู ุดูุฑ ูู ูู ุชุฃุฎุฑ ุนู ุงูุงุฌุชูุงุนุงุช ุฃู ูู ูู ููุฌุฒ ุงูููุงู ุงููููู ุจูุง ุฃู ูู ูู ููุชุฒู ุจููุงุนุฏ ุงูุณููู ุงูุฃุฎูุงูู ุงููููู ุฃู ูู ุฎุฑุฌ ูู ููุตุงุช ุงูุชูุงุตู ุงูุฎุงุตู ุจุงูุงุชุญุงุฏ ุฏูู ุฅุฐู ูุณุจู.
- **ูุงุฏู (48):** ูุนุงูุจ ุจุงูููู ุนู ุงููุดุงุฑูู ูู ุฃูุดุทุฉ ุงูุฅุชุญุงุฏ ููุฏู ูุง ุชูู ุนู ุดูุฑ ููุง ุชุฒูุฏ ุนู ุณุชุฉ ุฃุดูุฑ ูู ูู ุชุณุจุจ ูู ุงูุฅุถุฑุงุฑ ุจุตุงูุญ ุงูุนูู ุจุงูุงุชุญุงุฏ ุฃู ูู ูุงู ุจูุดุฑ ูุนูููุงุช ูุถููู ุฃู ูุณูุฆู ุนู ุฃุนูุงู ุงูุงุชุญุงุฏ ุฃู ูู ุชุฎูู ุนู ุญุถูุฑ ุชุญูููุงุช ุงููุฌูุณ ุงูุฑูุงุจู.
- **ูุงุฏู (49):** ูุนุงูุจ ุจุงููุตู ูู ุงูุฅุชุญุงุฏ ูุชุฌููุฏ ุงูุนุถููุฉ ุฃู ุจุฅุญุฏู ูุฐูู ุงูุนููุจุชูู ูู ูู ุชุนุฏู ุนูู ุฃุนุถุงุก ุงูุฅุชุญุงุฏ ุฃู ููุงุฏุงุชู ุฃู ูู ุชุณุจุจ ูู ุชุฒููุฑ ุฃุนูุงู ูุชุนููู ุจุงูุฅุชุญุงุฏ ุฃู ูู ูุงู ุจุงูุชุฑููุฌ ูุฃููุงุฑ ูุชุทุฑูู ุฃู ุฃูุนุงู ุฌุณููู ููุงููุฉ ููุขุฏุงุจ ุงูุนุงูู.
- **ูุงุฏู (50):** ูุชู ุฅุจูุงุบ ุงูุนุถู ุงููุฎุงูู ุจุฅุฑุชูุงุจู ุงููุฎุงููู ุจูุนุฑูุฉ ุงููุญูู ุงููุญุงู ุฅููู ุงูุชุญููู ููุชู ุชุญุฏูุฏ ููุนุฏ ููุชุญููู ูุชู ููู ุงูุงุณุชูุงุน ุฅูู ุฃููุงู ูุฏููุน ุงูุนุถู ุงููุฎุงูู.
- **ูุงุฏู (51):** ูุญู ููุนุถู ุงูุทุนู ุนูู ูุฑุงุฑ ุงููุฌูุณ ุงูุฑูุงุจู ุฎูุงู ุซูุงุซุฉ ุฃูุงู ูู ุชุงุฑูุฎ ุตุฏูุฑ ุงููุฑุงุฑ ุจุทุนู ูููุฏู ุฅูู ุฑุฆูุณ ุงููุฌูุณ ุงูุฑูุงุจู.

## ุงูุจุงุจ ุงูุณุงุฏุณ: ุงูุชูููู
- **ูุงุฏู (52):** ุชุจุฏุฃ ุงูุณูุฉ ุงููุงููุฉ ุฏุงุฎู ุงูุงุชุญุงุฏ ูู ุงูููู ุงูุฃูู ูู ุดูุฑ ูุจุฑุงูุฑ ูุชูุชูู ูู ููุงูุฉ ููุงูุฑ ูู ุงูุนุงู ุงูุชุงูู.
- **ูุงุฏู (53):** ุงูุนุถููุฉ ูุชุจุฑุนุงุช ุงูุฃุนุถุงุก ูู ุงููุตุฏุฑ ุงูุฑุฆูุณ ูุชูููู ุฃูุดุทุฉ ุงูุฅุชุญุงุฏ ุจุงูุฅุถุงูู ุฅูู ุงูููุญ ุงูููุฏูุฉ ูู ุงูุฌูุงุช ุงูุดุฑููู ูุชููุจู ุงูุชุจุฑุนุงุช ูุงูููุญ ุจุนุฏ ููุงููุฉ ุฑุฆูุณ ุงูุฅุชุญุงุฏ ุนูููุง.
- **ูุงุฏู (54):** ูุฌูุฒ ุฅุจุฑุงู ุจุฑูุชูููุงุช ุงูุชุนุงูู ูุน ุงูุฌูุงุช ุงููุทููุฉ ุงูููุซููู ูุชูููุฐ ุฃูุดุทู ูุดุชุฑูู ุจุชูููู ูุดุชุฑู ุจุดุฑุท ููุงููุฉ ุงูููุชุจ ุงูุชูููุฐู.
- **ูุงุฏู (55):** ุชุชููู ูู ูุญุงูุธุฉ ููุฌูุฉ ูุฑูุฒูุฉ ุชูููู ุฃูุดุทุชูุง ุงูุฏุงุฎููุฉ ููุฌูุฒ ููุญูุง ุจุนุถ ุงูุชููููุงุช ูู ุงูุฃูุดุทุฉ ุงููุฑูุฒูุฉ ุจุนุฏ ููุงููุฉ ุฑุฆูุณ ุงูุงุชุญุงุฏ.

## ุงูุจุงุจ ุงูุณุงุจุน: ุชุณููุฑ ุงูุฃุนูุงู
- **ูุงุฏู (56):** ูู ุญุงูุฉ ุฅุณุชูุงูุฉ ุฃู ุชูุงุฒู ุฃู ุนุฒู ุฑุฆูุณ ุงูุฅุชุญุงุฏ ุชููู ูุฌูุฉ ููููู ูู ููุงุจ ุฑุฆูุณ ุงูุฅุชุญุงุฏ ูุฑุฆูุณ ุงููุฌูุณ ุงูุฑูุงุจู ุจุชุณููุฑ ุงูุฃุนูุงู ุฏุงุฎู ุงูุฅุชุญุงุฏ ูุญูู ุฅูุชุฎุงุจ ุฑุฆูุณ ุฌุฏูุฏ.
- **ูุงุฏู (57):** ูุชู ูุชุญ ุจุงุจ ุงูุชุฑุดุญ ุนูู ููุนุฏ ุฑุฆูุณ ุงูุฅุชุญุงุฏ ุฎูุงู ูุฏู ูุง ุชุฌุงูุฒ ุดูุฑ ูู ุชุงุฑูุฎู ุนูู ุฃู ูููู ุงููุงุฆุฒ ุจูุฐุง ุงูููุนุฏ ุจุชุณููุฑ ุงูุฃุนูุงู ุจููุณ ุงูุชุดูููุงุช ููุฏุฉ ุนุงู.
- **ูุงุฏู (58):** ูุญู ููุงูุฉ ุงูุฃุนุถุงุก ุงูุชุฑุดุญ ุนูู ููุนุฏ ุฑุฆูุณ ุงูุฅุชุญุงุฏ ุจุดุฑุท ุฃู ูููู ูุฑ ุนูู ุนุถููุชู ุจุงูุฅุชุญุงุฏ ุนุงููู.
- **ูุงุฏู (59):** ูุฌูุฒ ูุฑุฆูุณ ุงูุฅุชุญุงุฏ ููุญ ุงูุฅุฌุงุฒุงุช ูู ุงูููุงุณุจุงุช ุงูุฑุณููุฉ ูุบูุฑูุง ูุฅุนูุงู ุญุงูุฉ ุงูุญุฏุงุฏ ุจูุฑุงุฑ ูุนูู ููุงูุฉ ุงูุฃุนุถุงุก.

## ๐๏ธ ุงููููู ุงูุฅุฏุงุฑู ูุงูููุงุฏุงุช ุงูุญุงููุฉ (ุงูุฃุณูุงุก):

## 1. ุงูููุงุฏุฉ ุงููุฑูุฒูุฉ:
- **ุฑุฆูุณ ุงูุงุชุญุงุฏ:** ุงููุงุฆุฏ/ **ูุตุทูู ูุทุงูุด**.
- **ูุงุฆุจ ุฑุฆูุณ ุงูุงุชุญุงุฏ:** ุงููุงุฆุฏ/ **ูุงุตุฑ ุฒุบูุงู**.
- **ูุณุงุนุฏ ุฑุฆูุณ ุงูุงุชุญุงุฏ:** ุงููุงุฆุฏุฉ/ **ูุฏู ูุตุทูู**.
- **ุฑุฆูุณ ุงููุฌูุณ ุงูุฑูุงุจู:** ุงููุงุฆุฏ/ **ุฏ. ุฃุญูุฏ ุงูุฎููู**.

## 2. ููุงุฏุฉ ูุญุงูุธุฉ ุงููููููุฉ:
- **ููุณู ุนุงู ุงููุญุงูุธุฉ:** ุงููุงุฆุฏ/ **ูุญูุฏ ุงูุดุงูุนู**.

### ุฑุคุณุงุก ุงููุฌุงู ุจุงููููููุฉ:
1. **ูุฌูุฉ ุงูููุงุฑุฏ ุงูุจุดุฑูุฉ (HR):**
   - ุงูุฑุฆูุณ: ุงููุงุฆุฏ **ุฃุญูุฏ ุนุจุฏ ุงูุณูุงู**.
   - ุงูููุงุจ: ุงููุงุฆุฏุฉ **ูุฏุง ุงูููู**ุ ุงููุงุฆุฏ **ููุณู ุฃุญูุฏ**.
2. **ูุฌูุฉ ุงูุนูุงูุงุช ุงูุนุงูุฉ (PR):**
   - ุงูุฑุฆูุณ: ุงููุงุฆุฏ **ูุญูุฏ ุดุจู ุฎูููุฉ**.
   - ุงููุงุฆุจ: ุงููุงุฆุฏ **ุนุจุฏุงููู ุนุฒุฌููุฉ**.
3. **ูุฌูุฉ ุงูุชูุธูู ูุงููุฑุงุณู (OC):**
   - ุงูุฑุฆูุณ: ุงููุงุฆุฏ **ุฅุจุฑุงููู ูุฌุฏู**.
   - ุงูููุงุจ: ุงููุงุฆุฏ **ูุญูุฏ ุนุฑุงูุดู**ุ ุงููุงุฆุฏุฉ **ุณูุง ุทุงุฑู**.
4. **ูุฌูุฉ ุงูุชุฏุฑูุจ ูุงูุชุทููุฑ (T&D):**
   - ุงูุฑุฆูุณ: ุงููุงุฆุฏ **ุฃููู ุจุณูููู**.
5. **ุงูููุชุจ ุงูุฅุนูุงูู (Media):**
   - ุงูุฑุฆูุณ: ุงููุงุฆุฏ **ุฑุงูุฒ ูุงุฆู**.
`;

    let messageCount = parseInt(sessionStorage.getItem("tm_chat_count") || "0");
    
    // --- 1. ุงูุฐุงูุฑุฉ (Chat History) ---
    // ุชููุฆุฉ ุณุฌู ุงููุญุงุฏุซุฉ ูุน ุฑุณุงูุฉ ุงููุธุงู
    let chatHistory = [
        { role: "system", content: SITE_KNOWLEDGE }
    ];

    function formatText(text) {
        if (!text) return "";
        let formatted = text.trim();
        formatted = formatted.replace(/\*\*(.*?)\*\*/g, '<b>$1</b>');
        formatted = formatted.replace(/##/g, '');
        formatted = formatted.replace(/^\s*[\-\*]\s+(.*)$/gm, '<div style="display:flex; align-items:flex-start; margin-bottom:4px;"><span style="color:#8e44ad; margin-left:5px;">โข</span> <span>$1</span></div>');
        formatted = formatted.replace(/\n/g, '<br>');
        return formatted;
    }

    const callModel = async (modelId) => {
        const URL = "https://openrouter.ai/api/v1/chat/completions";
        const headers = {
            "Authorization": `Bearer ${CONFIG.API_KEY}`,
            "Content-Type": "application/json",
            "HTTP-Referer": CONFIG.SITE_URL,
            "X-Title": CONFIG.SITE_TITLE
        };
        const body = JSON.stringify({
            model: modelId,
            temperature: 0.6,
            // --- 2. ุฅุฑุณุงู ุงูุณุฌู ูุงููุงู ููููุฏูู ---
            messages: chatHistory 
        });

        const response = await fetch(URL, { method: "POST", headers, body });
        if (!response.ok) {
            throw new Error(`Model Error: ${response.status}`);
        }
        return await response.json();
    };

    const getAIResponse = async (userMessage) => {
        // --- 3. ุฅุถุงูุฉ ุฑุณุงูุฉ ุงููุณุชุฎุฏู ููุฐุงูุฑุฉ ---
        chatHistory.push({ role: "user", content: userMessage });

        // ุฅุฏุงุฑุฉ ุญุฌู ุงูุฐุงูุฑุฉ (ููุญูุงุธ ุนูู ุงูุชูููุฒ)
        // ูุญุชูุธ ุจู System Prompt (ุฃูู ุนูุตุฑ) + ุขุฎุฑ 15 ุฑุณุงูุฉ
        if (chatHistory.length > CONFIG.MEMORY_LIMIT) {
            chatHistory = [
                chatHistory[0], // ุฅุจูุงุก System Prompt ุฏุงุฆูุงู
                ...chatHistory.slice(chatHistory.length - (CONFIG.MEMORY_LIMIT - 1))
            ];
        }

        // ุงููุญุต ุงููุญูู ุงูุณุฑูุน
        for (const key in LOCAL_FAQ) {
            if (userMessage.includes(key)) {
                const answer = LOCAL_FAQ[key];
                // ุฅุถุงูุฉ ุงูุฑุฏ ุงููุญูู ููุฐุงูุฑุฉ ุฃูุถุงู ููุนุฑู ุงูุจูุช ุฃูู ุฃุฌุงุจ
                chatHistory.push({ role: "assistant", content: answer });
                return answer;
            }
        }
        
        if (messageCount >= CONFIG.MAX_MESSAGES_PER_SESSION) {
            return "ุนุฐุฑุงู ูุง ูุงุฆุฏุ ููุฏ ูุตูุช ููุญุฏ ุงูุฃูุตู ูู ุงูุฑุณุงุฆู ุงููุณููุญุฉ.";
        }

        // ุงููุญุงููุฉ ูุน ุงูููุฏูู ุงูุฃุณุงุณู
        try {
            const data = await callModel(CONFIG.MODELS[0]);
            const botText = data.choices[0].message.content;
            
            // --- 4. ุฅุถุงูุฉ ุฑุฏ ุงูุจูุช ููุฐุงูุฑุฉ ---
            chatHistory.push({ role: "assistant", content: botText });
            
            messageCount++;
            sessionStorage.setItem("tm_chat_count", messageCount.toString());
            return botText;

        } catch (primaryError) {
            console.warn("Primary Model Failed, switching to backup...", primaryError);
            
            // ุงููุญุงููุฉ ูุน ุงูููุฏูู ุงูุงุญุชูุงุทู
            try {
                const data = await callModel(CONFIG.MODELS[1]);
                const botText = data.choices[0].message.content;
                
                chatHistory.push({ role: "assistant", content: botText });
                
                return botText;
            } catch (backupError) {
                console.error("All models failed:", backupError);
                return "ุนุฐุฑุงู ูุง ูุงุฆุฏุ ููุฌุฏ ุถุบุท ุดุฏูุฏ ุนูู ุงูุดุจูุฉ ุญุงููุงู. ูุฑุฌู ุงููุญุงููุฉ ูุฑุฉ ุฃุฎุฑู ูุงุญูุงู.";
            }
        }
    };

    const initBot = () => {
        TMChatUI.init();

        TMChatUI.onSend(async (userText) => {
            TMChatUI.lockInput();
            TMChatUI.addMessage(userText.replace(/\n/g, '<br>'), "user");
            
            const loader = TMChatUI.showLoader();
            
            const aiResponse = await getAIResponse(userText);
            const formattedResponse = formatText(aiResponse);

            TMChatUI.removeLoader(loader);
            TMChatUI.addMessage(formattedResponse, "bot");
            
            TMChatUI.unlockInput();
        });

        console.log("๐ Tahya Masr Bot Logic Loaded (Arabic Safe Mode)");
    };

    if (document.readyState === 'loading') {
        document.addEventListener("DOMContentLoaded", initBot);
    } else {
        initBot();
    }
})();


