<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø§Ù†Ø¶Ù… Ø¥Ù„ÙŠÙ†Ø§ - Ø§ØªØ­Ø§Ø¯ Ø·Ù„Ø§Ø¨ ØªØ­ÙŠØ§ Ù…ØµØ± - Ù…Ø­Ø§ÙØ¸Ø© Ø§Ù„Ù…Ù†ÙˆÙÙŠØ©</title>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="stylesheet" href="css/style.css">
    
    <style>
        /* ============================================================
           ğŸš€ Performance Fix: Ø§Ù„Ø®Ù„ÙÙŠØ© Ø§Ù„Ø³Ø±ÙŠØ¹Ø© Ù„ØµÙØ­Ø© Ø§Ù„Ø§Ù†Ø¶Ù…Ø§Ù…
           ============================================================ */
        body.join-page {
            position: relative;
            z-index: 0;
            background-color: transparent; /* Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ø®Ù„ÙÙŠØ© Ù…Ù† Ø§Ù„Ø¬Ø³Ù… Ù†ÙØ³Ù‡ */
            min-height: 100vh;
        }

        /* Ø·Ø¨Ù‚Ø© Ø§Ù„Ø®Ù„ÙÙŠØ© Ø§Ù„Ø«Ø§Ø¨ØªØ© (Ø£Ø¯Ø§Ø¡ Ø¹Ø§Ù„ÙŠ) */
        body.join-page::before {
            content: '';
            position: fixed;
            top: 0; 
            left: 0; 
            width: 100%; 
            height: 100%;
            z-index: -1;
            pointer-events: none;
            
            /* Ø£Ù„ÙˆØ§Ù† Ø§Ù„Ø®Ù„ÙÙŠØ© (Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„ÙØ§ØªØ­) */
            background-color: #f3f4f6;
            background-image: 
                radial-gradient(at 0% 0%, hsla(253,16%,7%,1) 0, transparent 50%), 
                radial-gradient(at 50% 0%, hsla(225,39%,30%,1) 0, transparent 50%), 
                radial-gradient(at 100% 0%, hsla(339,49%,30%,1) 0, transparent 50%);
            background-size: cover;
            transition: background 0.3s ease;
        }

        /* ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„Ø­Ø§ÙˆÙŠØ© Ø§Ù„Ø²Ø¬Ø§Ø¬ÙŠØ© */
        .glass-container {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border-radius: 24px;
            border: 1px solid rgba(255, 255, 255, 0.3);
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
            padding: 40px;
            margin: 40px auto;
            max-width: 900px;
            position: relative;
            overflow: hidden;
            transition: background 0.3s, border 0.3s;
            /* ØªØ­Ø³ÙŠÙ† Ø§Ù„Ø£Ø¯Ø§Ø¡ Ø¹Ù†Ø¯ Ø§Ù„ØªØ­Ø±ÙŠÙƒ */
            transform: translateZ(0); 
        }

        /* Ø´Ø±ÙŠØ· Ø¹Ù„ÙˆÙŠ Ù…Ù„ÙˆÙ† Ø¯Ø§Ø®Ù„ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø© */
        .glass-container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 6px;
            background: linear-gradient(90deg, #8e44ad, #3498db, #e74c3c);
        }

        .form-header-modern {
            text-align: center;
            margin-bottom: 40px;
        }

        .form-header-modern h1 {
            font-size: 2.5rem;
            color: #2d3748;
            margin-bottom: 10px;
            background: linear-gradient(135deg, #2d3748 0%, #8e44ad 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .form-header-modern p {
            color: #718096;
            font-size: 1.1rem;
        }

        /* Ø´Ø±ÙŠØ· Ø§Ù„Ø®Ø·ÙˆØ§Øª Ø§Ù„Ù…ØªØ·ÙˆØ± */
        .steps-wrapper {
            display: flex;
            justify-content: center;
            margin-bottom: 50px;
            position: relative;
        }

        .steps-progress {
            display: flex;
            width: 100%;
            max-width: 600px;
            justify-content: space-between;
            position: relative;
        }

        .steps-progress::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 0;
            width: 100%;
            height: 4px;
            background: #e2e8f0;
            transform: translateY(-50%);
            z-index: 0;
            border-radius: 10px;
            transition: background 0.3s;
        }

        .progress-fill {
            position: absolute;
            top: 50%;
            left: 0;
            height: 4px;
            background: linear-gradient(90deg, #8e44ad, #9b59b6);
            transform: translateY(-50%);
            z-index: 0;
            transition: width 0.4s ease;
            border-radius: 10px;
            width: 0%; 
        }

        .step-item {
            position: relative;
            z-index: 1;
            background: #fff;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            color: #a0aec0;
            border: 3px solid #e2e8f0;
            transition: all 0.3s ease;
        }

        .step-item.active {
            border-color: #8e44ad;
            color: #8e44ad;
            transform: scale(1.1);
            box-shadow: 0 0 0 5px rgba(142, 68, 173, 0.1);
        }

        .step-item.completed {
            background: #8e44ad;
            border-color: #8e44ad;
            color: #fff;
        }

        /* Ø­Ù‚ÙˆÙ„ Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø¹ØµØ±ÙŠØ© */
        .modern-input-group {
            position: relative;
            margin-bottom: 25px;
        }

        .modern-input-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 700;
            color: #4a5568;
            font-size: 0.95rem;
        }

        .modern-input-wrapper {
            position: relative;
            display: flex;
            align-items: center;
        }

        .modern-input-wrapper i {
            position: absolute;
            right: 16px;
            color: #a0aec0;
            font-size: 1.1rem;
            transition: color 0.3s ease;
            pointer-events: none;
        }

        .modern-input-wrapper input,
        .modern-input-wrapper select,
        .modern-input-wrapper textarea {
            width: 100%;
            padding: 14px 45px 14px 16px;
            border: 2px solid #e2e8f0;
            border-radius: 12px;
            background: #f8fafc;
            font-family: 'Cairo', sans-serif;
            font-size: 1rem;
            color: #2d3748;
            transition: all 0.3s ease;
            outline: none;
        }

        .modern-input-wrapper input:focus,
        .modern-input-wrapper select:focus,
        .modern-input-wrapper textarea:focus {
            border-color: #8e44ad;
            background: #fff;
            box-shadow: 0 4px 12px rgba(142, 68, 173, 0.1);
        }

        .modern-input-wrapper input:focus + i {
            color: #8e44ad;
        }

        /* Ø¨Ø·Ø§Ù‚Ø§Øª Ø§Ù„Ù„Ø¬Ø§Ù† */
        .committee-cards-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 15px;
        }

        .radio-card {
            position: relative;
        }

        .radio-card input {
            position: absolute;
            opacity: 0;
            width: 0;
            height: 0;
        }

        .card-content {
            background: #fff;
            border: 2px solid #e2e8f0;
            border-radius: 16px;
            padding: 20px 10px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            height: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        .card-content i {
            font-size: 2rem;
            margin-bottom: 10px;
            color: #a0aec0;
            transition: all 0.3s ease;
        }
        
        .card-content span {
            color: #4a5568;
            font-weight: 600;
        }

        .radio-card input:checked + .card-content {
            border-color: #8e44ad;
            background: rgba(142, 68, 173, 0.04);
            transform: translateY(-4px);
            box-shadow: 0 10px 15px -3px rgba(142, 68, 173, 0.1);
        }

        .radio-card input:checked + .card-content i {
            color: #8e44ad;
            transform: scale(1.1);
        }
        
        .radio-card input:checked + .card-content span {
            color: #8e44ad;
            font-weight: 700;
        }

        /* Ø£Ø²Ø±Ø§Ø± Ø§Ù„ØªØ­ÙƒÙ… */
        .action-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 40px;
            gap: 20px;
        }

        .action-btn {
            padding: 12px 30px;
            border-radius: 50px;
            font-weight: 700;
            cursor: pointer;
            font-family: 'Cairo', sans-serif;
            font-size: 1rem;
            transition: all 0.3s ease;
            border: none;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .btn-next {
            background: linear-gradient(135deg, #8e44ad 0%, #9b59b6 100%);
            color: white;
            box-shadow: 0 4px 15px rgba(142, 68, 173, 0.3);
            margin-right: auto;
        }

        .btn-next:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(142, 68, 173, 0.4);
        }
        
        .btn-next:disabled {
            background: #cbd5e0;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .btn-prev {
            background: #edf2f7;
            color: #4a5568;
        }

        .btn-prev:hover {
            background: #e2e8f0;
        }

        /* Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„Ø®Ø·Ø£ ÙˆØ§Ù„ØªØ­Ù…ÙŠÙ„ */
        .error-hint {
            color: #e53e3e;
            font-size: 0.85rem;
            margin-top: 5px;
            display: none;
            animation: fadeIn 0.3s ease;
        }
        .error-hint.show { display: block; }

        .loading-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(255,255,255,0.8);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 100;
            display: none;
            backdrop-filter: blur(5px);
        }

        .loading-spinner {
            width: 50px;
            height: 50px;
            border: 5px solid #f3f3f3;
            border-top: 5px solid #8e44ad;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        
        .success-message {
            text-align: center;
            padding: 40px;
            display: none;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-5px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        /* Ù‚Ø³Ù… Ø§Ù„ØªØ£ÙƒÙŠØ¯ */
        #confirmationData {
            background: #f7fafc;
            padding: 20px;
            border-radius: 12px;
            text-align: right;
            border: 1px solid #edf2f7;
            color: #2d3748;
        }

        /* Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù„ÙŠÙ„ÙŠ (Ù…Ø­Ø¯Ø« Ù„Ù„Ø®Ù„ÙÙŠØ© Ø§Ù„Ø³Ø±ÙŠØ¹Ø©) */
        body.dark-mode.join-page::before {
            background-color: #1a202c;
            background-image: 
                radial-gradient(at 0% 0%, hsla(253,16%,15%,1) 0, transparent 50%), 
                radial-gradient(at 50% 0%, hsla(225,39%,20%,1) 0, transparent 50%), 
                radial-gradient(at 100% 0%, hsla(339,49%,20%,1) 0, transparent 50%);
        }

        body.dark-mode .glass-container {
            background: rgba(30, 41, 59, 0.8);
            border-color: rgba(255, 255, 255, 0.1);
        }
        
        body.dark-mode .form-header-modern h1 {
            background: linear-gradient(135deg, #e2e8f0 0%, #d6bcfa 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        body.dark-mode .form-header-modern p { color: #cbd5e1; }
        body.dark-mode .modern-input-group label { color: #e2e8f0; }
        body.dark-mode .modern-input-wrapper input,
        body.dark-mode .modern-input-wrapper select,
        body.dark-mode .modern-input-wrapper textarea {
            background: #2d3748;
            border-color: #4a5568;
            color: #f7fafc;
        }
        body.dark-mode .modern-input-wrapper input:focus,
        body.dark-mode .modern-input-wrapper select:focus,
        body.dark-mode .modern-input-wrapper textarea:focus {
            border-color: #9b59b6;
            background: #2d3748;
        }
        body.dark-mode .step-item {
            background: #2d3748;
            border-color: #4a5568;
            color: #cbd5e1;
        }
        body.dark-mode .step-item.active {
            border-color: #9b59b6;
            color: #9b59b6;
        }
        body.dark-mode .card-content {
            background: #2d3748;
            border-color: #4a5568;
        }
        body.dark-mode .card-content span { color: #cbd5e1; }
        body.dark-mode .radio-card input:checked + .card-content {
            border-color: #9b59b6;
            background: rgba(155, 89, 182, 0.1);
        }
        body.dark-mode #confirmationData {
            background: #2d3748;
            border-color: #4a5568;
            color: #e2e8f0;
        }
        body.dark-mode h3 {
            color: #e2e8f0 !important;
            border-bottom-color: #4a5568 !important;
        }
        body.dark-mode .loading-overlay {
            background: rgba(30, 41, 59, 0.9);
        }

        /* Ø§Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„ */
        @media (max-width: 768px) {
            .glass-container {
                padding: 25px;
                margin: 20px 15px;
            }
            .form-header-modern h1 { font-size: 1.8rem; }
            .committee-cards-container { grid-template-columns: repeat(2, 1fr); }
        }
    </style>
</head>
<body class="join-page">

    <header>
        <nav class="container">
            <a href="index.html" class="logo">
                <img src="images/logo.png" alt="Ø´Ø¹Ø§Ø± Ø§Ù„Ø§ØªØ­Ø§Ø¯">
                <span>Ø§ØªØ­Ø§Ø¯ Ø·Ù„Ø§Ø¨ ØªØ­ÙŠØ§ Ù…ØµØ±<br>Ù…Ø­Ø§ÙØ¸Ø© Ø§Ù„Ù…Ù†ÙˆÙÙŠØ©</span>
            </a>
            <ul class="nav-links">
                <li><a href="index.html">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a></li>
                <li><a href="about.html">Ø¹Ù† Ø§Ù„Ø§ØªØ­Ø§Ø¯</a></li>
                <li><a href="committees.html">Ø§Ù„Ù„Ø¬Ø§Ù†</a></li>
                <li><a href="stars.html">Ù†Ø¬ÙˆÙ… Ø§Ù„Ø´Ù‡Ø±</a></li>
                <li><a href="events.html">Ø§Ù„ÙØ¹Ø§Ù„ÙŠØ§Øª</a></li>
                <li><a href="partners.html">Ø§Ù„Ø´Ø±ÙƒØ§Ø¡</a></li>
                <li><a href="join.html" class="nav-cta">Ø§Ù†Ø¶Ù… Ø¥Ù„ÙŠÙ†Ø§</a></li>
            </ul>
            <button class="theme-toggle" id="themeToggle" aria-label="ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„ÙˆØ¶Ø¹">
                <i class="fas fa-moon"></i>
            </button>
            <button class="menu-toggle"><i class="fas fa-bars"></i></button>
        </nav>
    </header>

    <main class="page-content">
        <div class="glass-container">
            
            <!-- Ø´Ø§Ø´Ø© ØªØ­Ù…ÙŠÙ„ -->
            <div class="loading-overlay" id="loadingOverlay">
                <div class="loading-spinner"></div>
                <h3 style="margin-top: 20px; color: #8e44ad;">Ø¬Ø§Ø±ÙŠ Ø¥Ø±Ø³Ø§Ù„ Ø¨ÙŠØ§Ù†Ø§ØªÙƒ...</h3>
                <p>ÙŠØ±Ø¬Ù‰ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø± (Ù‚Ø¯ ÙŠØ³ØªØºØ±Ù‚ Ø±ÙØ¹ Ø§Ù„ØµÙˆØ±Ø© Ø¨Ø¶Ø¹ Ø«ÙˆØ§Ù†Ù)</p>
            </div>

            <!-- Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ù†Ø¬Ø§Ø­ -->
            <div class="success-message" id="successMessage">
                <i class="fas fa-check-circle" style="font-size: 5rem; color: #48bb78; margin-bottom: 20px;"></i>
                <h2 style="color: #2d3748; margin-bottom: 10px;">ØªÙ… Ø§Ù„ØªØ³Ø¬ÙŠÙ„ Ø¨Ù†Ø¬Ø§Ø­!</h2>
                <p style="color: #718096; margin-bottom: 30px;">Ø´ÙƒØ±Ø§Ù‹ Ù„Ø§Ù†Ø¶Ù…Ø§Ù…Ùƒ Ø¥Ù„ÙŠÙ†Ø§ØŒ Ø³Ù†ØªÙˆØ§ØµÙ„ Ù…Ø¹Ùƒ Ù‚Ø±ÙŠØ¨Ø§Ù‹.</p>
                <a href="index.html" class="cta-button" style="background: #8e44ad; color: white; padding: 10px 30px; border-radius: 50px; text-decoration: none;">Ø¹ÙˆØ¯Ø© Ù„Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a>
            </div>

            <div id="formContent">
                <div class="form-header-modern">
                    <h1>Ø§Ø³ØªÙ…Ø§Ø±Ø© Ø§Ù„Ø§Ù†Ø¶Ù…Ø§Ù…</h1>
                    <p>Ø®Ø·ÙˆØªÙƒ Ø§Ù„Ø£ÙˆÙ„Ù‰ Ù†Ø­Ùˆ Ø§Ù„Ù‚ÙŠØ§Ø¯Ø© ÙˆØ§Ù„ØªÙ…ÙŠØ²</p>
                </div>

                <div class="steps-wrapper">
                    <div class="steps-progress">
                        <div class="progress-fill" id="progressFill"></div>
                        <div class="step-item active" data-step="1">1</div>
                        <div class="step-item" data-step="2">2</div>
                        <div class="step-item" data-step="3">3</div>
                        <div class="step-item" data-step="4"><i class="fas fa-check"></i></div>
                    </div>
                </div>

                <form id="joinForm">
                    
                    <!-- Ø§Ù„Ø®Ø·ÙˆØ© 1: Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø´Ø®ØµÙŠØ© -->
                    <div class="form-step active" data-step="1">
                        <h3 style="color: #4a5568; margin-bottom: 25px; border-bottom: 1px solid #e2e8f0; padding-bottom: 10px;">
                            Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø´Ø®ØµÙŠØ©
                        </h3>

                        <div class="modern-input-group">
                            <label>Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„</label>
                            <div class="modern-input-wrapper">
                                <input type="text" id="fullName" name="fullName" placeholder="Ø§Ù„Ø§Ø³Ù… Ø±Ø¨Ø§Ø¹ÙŠ Ø¨Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©" required>
                                <i class="fas fa-user"></i>
                            </div>
                            <div class="error-hint" id="fullNameError">ÙŠØ±Ø¬Ù‰ ÙƒØªØ§Ø¨Ø© Ø§Ù„Ø§Ø³Ù… Ø§Ù„Ø±Ø¨Ø§Ø¹ÙŠ</div>
                        </div>

                        <div class="modern-input-group">
                            <label>Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ (ÙˆØ§ØªØ³Ø§Ø¨)</label>
                            <div class="modern-input-wrapper">
                                <input type="tel" id="phone" name="phone" placeholder="01xxxxxxxxx" required>
                                <i class="fas fa-phone-alt"></i>
                            </div>
                            <div class="error-hint" id="phoneError">Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ ÙŠØ¬Ø¨ Ø£Ù† ÙŠØ¨Ø¯Ø£ Ø¨Ù€ 01 ÙˆÙŠØªÙƒÙˆÙ† Ù…Ù† 11 Ø±Ù‚Ù…</div>
                        </div>

                        <div class="modern-input-group">
                            <label>Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</label>
                            <div class="modern-input-wrapper">
                                <input type="email" id="email" name="email" placeholder="example@gmail.com" required>
                                <i class="fas fa-envelope"></i>
                            </div>
                            <div class="error-hint" id="emailError">Ø¨Ø±ÙŠØ¯ Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ ØºÙŠØ± ØµØ­ÙŠØ­</div>
                        </div>

                        <div class="modern-input-group">
                            <label>ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯</label>
                            <div class="modern-input-wrapper">
                                <input type="date" id="birthdate" name="birthdate" required>
                            </div>
                        </div>

                        <div class="modern-input-group">
                            <label>Ø§Ù„ØµÙˆØ±Ø© Ø§Ù„Ø´Ø®ØµÙŠØ©</label>
                            <div class="modern-input-wrapper" style="display: block;">
                                <input type="file" id="profilePic" name="profilePic" accept="image/*" style="padding: 10px;" required>
                                <small style="color: #718096; display: block; margin-top: 5px;">ÙŠÙØ¶Ù„ ØµÙˆØ±Ø© Ø±Ø³Ù…ÙŠØ© Ø¨Ø®Ù„ÙÙŠØ© Ø¨ÙŠØ¶Ø§Ø¡ (Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ù‚ØµÙ‰ 2 Ù…ÙŠØ¬Ø§)</small>
                            </div>
                        </div>
                    </div>

                    <!-- Ø§Ù„Ø®Ø·ÙˆØ© 2: Ø§Ù„ØªØ¹Ù„ÙŠÙ… -->
                    <div class="form-step" data-step="2" style="display: none;">
                        <h3 style="color: #4a5568; margin-bottom: 25px; border-bottom: 1px solid #e2e8f0; padding-bottom: 10px;">
                            Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠØ©
                        </h3>

                        <div class="modern-input-group">
                            <label>Ø§Ù„Ø¬Ø§Ù…Ø¹Ø©</label>
                            <div class="modern-input-wrapper">
                                <input type="text" id="university" name="university" placeholder="Ù…Ø«Ø§Ù„: Ø¬Ø§Ù…Ø¹Ø© Ø§Ù„Ù…Ù†ÙˆÙÙŠØ©" required>
                                <i class="fas fa-university"></i>
                            </div>
                        </div>

                        <div class="modern-input-group">
                            <label>Ø§Ù„ÙƒÙ„ÙŠØ©</label>
                            <div class="modern-input-wrapper">
                                <input type="text" id="faculty" name="faculty" placeholder="Ù…Ø«Ø§Ù„: ÙƒÙ„ÙŠØ© Ø§Ù„Ù‡Ù†Ø¯Ø³Ø©" required>
                                <i class="fas fa-graduation-cap"></i>
                            </div>
                        </div>

                        <div class="modern-input-group">
                            <label>Ø§Ù„Ø³Ù†Ø© Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠØ©</label>
                            <div class="modern-input-wrapper">
                                <select id="year" name="year" required>
                                    <option value="">Ø§Ø®ØªØ± Ø§Ù„ÙØ±Ù‚Ø© Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠØ©</option>
                                    <option value="Ø§Ù„Ø£ÙˆÙ„Ù‰">Ø§Ù„ÙØ±Ù‚Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰</option>
                                    <option value="Ø§Ù„Ø«Ø§Ù†ÙŠØ©">Ø§Ù„ÙØ±Ù‚Ø© Ø§Ù„Ø«Ø§Ù†ÙŠØ©</option>
                                    <option value="Ø§Ù„Ø«Ø§Ù„Ø«Ø©">Ø§Ù„ÙØ±Ù‚Ø© Ø§Ù„Ø«Ø§Ù„Ø«Ø©</option>
                                    <option value="Ø§Ù„Ø±Ø§Ø¨Ø¹Ø©">Ø§Ù„ÙØ±Ù‚Ø© Ø§Ù„Ø±Ø§Ø¨Ø¹Ø©</option>
                                    <option value="Ø§Ù„Ø®Ø§Ù…Ø³Ø©">Ø§Ù„ÙØ±Ù‚Ø© Ø§Ù„Ø®Ø§Ù…Ø³Ø©</option>
                                </select>
                                <i class="fas fa-layer-group"></i>
                            </div>
                        </div>

                        <div class="modern-input-group">
                            <label>Ø§Ù„Ù‚Ø³Ù… / Ø§Ù„ØªØ®ØµØµ</label>
                            <div class="modern-input-wrapper">
                                <input type="text" id="major" name="major" placeholder="Ù…Ø«Ø§Ù„: Ù‡Ù†Ø¯Ø³Ø© Ù…Ø¯Ù†ÙŠ">
                                <i class="fas fa-book-open"></i>
                            </div>
                        </div>
                    </div>

                    <!-- Ø§Ù„Ø®Ø·ÙˆØ© 3: Ø§Ù„Ù„Ø¬Ø§Ù† ÙˆØ§Ù„Ù…Ù‡Ø§Ø±Ø§Øª -->
                    <div class="form-step" data-step="3" style="display: none;">
                        <h3 style="color: #4a5568; margin-bottom: 25px; border-bottom: 1px solid #e2e8f0; padding-bottom: 10px;">
                            Ø§Ø®ØªØ± Ù„Ø¬Ù†ØªÙƒ
                        </h3>

                        <div class="modern-input-group">
                            <label style="margin-bottom: 15px;">Ø§Ù„Ù„Ø¬Ø§Ù† Ø§Ù„Ù…ØªØ§Ø­Ø© <span style="font-weight: normal; font-size: 0.8rem;">(ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ø®ØªÙŠØ§Ø± Ø£ÙƒØ«Ø± Ù…Ù† Ù„Ø¬Ù†Ø©)</span></label>
                            <div class="committee-cards-container">
                                <!-- HR -->
                                <label class="radio-card">
                                    <input type="checkbox" name="committees" value="Ø§Ù„Ù…ÙˆØ§Ø±Ø¯ Ø§Ù„Ø¨Ø´Ø±ÙŠØ©">
                                    <div class="card-content">
                                        <i class="fas fa-users-cog"></i>
                                        <span>Ø§Ù„Ù…ÙˆØ§Ø±Ø¯ Ø§Ù„Ø¨Ø´Ø±ÙŠØ©</span>
                                    </div>
                                </label>
                                <!-- PR -->
                                <label class="radio-card">
                                    <input type="checkbox" name="committees" value="Ø§Ù„Ø¹Ù„Ø§Ù‚Ø§Øª Ø§Ù„Ø¹Ø§Ù…Ø©">
                                    <div class="card-content">
                                        <i class="fas fa-handshake"></i>
                                        <span>Ø§Ù„Ø¹Ù„Ø§Ù‚Ø§Øª Ø§Ù„Ø¹Ø§Ù…Ø©</span>
                                    </div>
                                </label>
                                <!-- OC -->
                                <label class="radio-card">
                                    <input type="checkbox" name="committees" value="Ø§Ù„ØªÙ†Ø¸ÙŠÙ…">
                                    <div class="card-content">
                                        <i class="fas fa-tasks"></i>
                                        <span>Ø§Ù„ØªÙ†Ø¸ÙŠÙ…</span>
                                    </div>
                                </label>
                                <!-- Media -->
                                <label class="radio-card">
                                    <input type="checkbox" name="committees" value="Ø§Ù„Ù…ÙƒØªØ¨ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù…ÙŠ">
                                    <div class="card-content">
                                        <i class="fas fa-camera"></i>
                                        <span>Ø§Ù„Ù…ÙŠØ¯ÙŠØ§</span>
                                    </div>
                                </label>
                                <!-- T&D -->
                                <label class="radio-card">
                                    <input type="checkbox" name="committees" value="Ø§Ù„ØªØ¯Ø±ÙŠØ¨ ÙˆØ§Ù„ØªØ·ÙˆÙŠØ±">
                                    <div class="card-content">
                                        <i class="fas fa-chalkboard-teacher"></i>
                                        <span>Ø§Ù„ØªØ¯Ø±ÙŠØ¨</span>
                                    </div>
                                </label>
                            </div>
                            <div class="error-hint" id="committeesError">ÙŠØ¬Ø¨ Ø§Ø®ØªÙŠØ§Ø± Ù„Ø¬Ù†Ø© ÙˆØ§Ø­Ø¯Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„</div>
                        </div>

                        <div class="modern-input-group">
                            <label>Ù„Ù…Ø§Ø°Ø§ ØªØ±ÙŠØ¯ Ø§Ù„Ø§Ù†Ø¶Ù…Ø§Ù… Ø¥Ù„ÙŠÙ†Ø§ØŸ</label>
                            <div class="modern-input-wrapper">
                                <textarea id="motivation" name="motivation" rows="3" placeholder="Ø£Ø®Ø¨Ø±Ù†Ø§ Ø¹Ù† Ù‡Ø¯ÙÙƒ Ù…Ù† Ø§Ù„Ø§Ù†Ø¶Ù…Ø§Ù… ÙˆÙ…Ø§Ø°Ø§ ÙŠÙ…ÙƒÙ†Ùƒ Ø£Ù† ØªÙ‚Ø¯Ù…..." required></textarea>
                            </div>
                            <div class="error-hint" id="motivationError">Ù‡Ø°Ø§ Ø§Ù„Ø­Ù‚Ù„ Ù…Ø·Ù„ÙˆØ¨</div>
                        </div>
                    </div>

                    <!-- Ø§Ù„Ø®Ø·ÙˆØ© 4: ØªØ£ÙƒÙŠØ¯ -->
                    <div class="form-step" data-step="4" style="display: none;">
                        <div style="text-align: center; padding: 20px;">
                            <i class="fas fa-check-circle" style="font-size: 4rem; color: #48bb78; margin-bottom: 20px;"></i>
                            <h3 style="margin-bottom: 10px; color: #2d3748;">Ø¬Ø§Ù‡Ø² Ù„Ù„Ø¥Ø±Ø³Ø§Ù„!</h3>
                            <p style="color: #718096; margin-bottom: 30px;">ÙŠØ±Ø¬Ù‰ Ù…Ø±Ø§Ø¬Ø¹Ø© Ù…Ù„Ø®Øµ Ø¨ÙŠØ§Ù†Ø§ØªÙƒ Ø£Ø¯Ù†Ø§Ù‡ Ù‚Ø¨Ù„ Ø§Ù„ØªØ£ÙƒÙŠØ¯</p>
                            
                            <div id="confirmationData">
                                <!-- Data populated by JS -->
                            </div>
                        </div>
                    </div>

                    <!-- Ø£Ø²Ø±Ø§Ø± Ø§Ù„ØªØ­ÙƒÙ… -->
                    <div class="action-buttons">
                        <button type="button" class="action-btn btn-prev" id="prevBtn" style="visibility: hidden;">
                            <i class="fas fa-arrow-right"></i> Ø§Ù„Ø³Ø§Ø¨Ù‚
                        </button>
                        <button type="button" class="action-btn btn-next" id="nextBtn">
                            Ø§Ù„ØªØ§Ù„ÙŠ <i class="fas fa-arrow-left"></i>
                        </button>
                        <button type="submit" class="action-btn btn-next" id="submitBtn" style="display: none; background: #48bb78;">
                            Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨ <i class="fas fa-paper-plane"></i>
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </main>

    <footer id="contact">
        <div class="container">
            <p>ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§ Ø¹Ø¨Ø± ÙˆØ³Ø§Ø¦Ù„ Ø§Ù„ØªÙˆØ§ØµÙ„ Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠ</p>
            <div class="social-icons">
                <a href="https://www.facebook.com/TahyaMasrStudentsUnionMNF/?locale=ar_AR" aria-label="Facebook"><i class="fab fa-facebook-f"></i></a>
            </div>
            <p>&copy; 2025 Ø§ØªØ­Ø§Ø¯ Ø·Ù„Ø§Ø¨ ØªØ­ÙŠØ§ Ù…ØµØ± - Ø§Ù„Ù…Ù†ÙˆÙÙŠØ©.</p>
        </div>
    </footer>

    <!-- Ø³ÙƒØ±ÙŠØ¨ØªØ§Øª Ø£Ø³Ø§Ø³ÙŠØ© -->
    <script src="js/script.js"></script>
    <script>
        // Ø±Ø§Ø¨Ø· Ø§Ù„Ø§Ø³ÙƒØ±Ø¨Øª Ø§Ù„Ø®Ø§Øµ Ø¨Ùƒ
        const scriptURL = 'https://script.google.com/macros/s/AKfycbxkZdCx9aNfb3MXc_iKy4DKX4MjrI1iPJRHLLyLDIr_RZ0AIFrP-vVDvi13QcL3DqfHew/exec'; 

        let currentStep = 1;
        const totalSteps = 4;

        const prevBtn = document.getElementById('prevBtn');
        const nextBtn = document.getElementById('nextBtn');
        const submitBtn = document.getElementById('submitBtn');
        const progressFill = document.getElementById('progressFill');
        const form = document.forms['joinForm'];

        // Ø§Ù„ØªØ¹Ø§Ù…Ù„ Ù…Ø¹ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„
        form.addEventListener('submit', e => {
            e.preventDefault();
            
            // Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„ØªØ­Ù…ÙŠÙ„
            document.getElementById('loadingOverlay').style.display = 'flex';
            
            const fileInput = document.getElementById('profilePic');
            const file = fileInput.files[0];
            
            // Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„ØµÙˆØ±Ø© ÙˆØªØ­ÙˆÙŠÙ„Ù‡Ø§ Ù„Ù€ Base64
            const reader = new FileReader();
            reader.readAsDataURL(file);
            reader.onload = function() {
                const base64Data = reader.result.split(',')[1]; // Ø­Ø°Ù Ø§Ù„Ø¬Ø²Ø¡ Ø§Ù„Ø£ÙˆÙ„ÙŠ (data:image/...)
                
                const formData = {
                    fullName: document.getElementById('fullName').value,
                    phone: document.getElementById('phone').value,
                    email: document.getElementById('email').value,
                    birthdate: document.getElementById('birthdate').value,
                    university: document.getElementById('university').value,
                    faculty: document.getElementById('faculty').value,
                    year: document.getElementById('year').value,
                    major: document.getElementById('major').value,
                    committees: Array.from(document.querySelectorAll('input[name="committees"]:checked')).map(cb => cb.value).join(', '),
                    motivation: document.getElementById('motivation').value,
                    fileName: file.name,
                    fileType: file.type,
                    fileData: base64Data
                };

                // Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
                fetch(scriptURL, { method: 'POST', body: JSON.stringify(formData) })
                    .then(response => {
                        document.getElementById('loadingOverlay').style.display = 'none';
                        document.getElementById('formContent').style.display = 'none';
                        document.getElementById('successMessage').style.display = 'block';
                        window.scrollTo(0,0);
                    })
                    .catch(error => {
                        document.getElementById('loadingOverlay').style.display = 'none';
                        alert('Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„! ØªØ£ÙƒØ¯ Ù…Ù† Ø§ØªØµØ§Ù„Ùƒ Ø¨Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª ÙˆØ­Ø§ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰.');
                        console.error('Error!', error.message);
                    });
            };
            
            reader.onerror = function(error) {
                console.log('Error: ', error);
                alert('Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„Ù…Ù„Ù');
            };
        });

        // ØªØ­Ø¯ÙŠØ« Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ‚Ø¯Ù…
        function updateProgress() {
            const percentage = ((currentStep - 1) / (totalSteps - 1)) * 100;
            progressFill.style.width = percentage + '%';

            document.querySelectorAll('.step-item').forEach((item, index) => {
                const stepNum = index + 1;
                if (stepNum < currentStep) {
                    item.classList.add('completed');
                    item.classList.remove('active');
                    if(stepNum < 4) item.innerHTML = '<i class="fas fa-check"></i>';
                } else if (stepNum === currentStep) {
                    item.classList.add('active');
                    item.classList.remove('completed');
                    if(stepNum < 4) item.innerHTML = stepNum;
                } else {
                    item.classList.remove('active', 'completed');
                    if(stepNum < 4) item.innerHTML = stepNum;
                }
            });

            document.querySelectorAll('.form-step').forEach(step => {
                step.style.display = 'none';
                step.classList.remove('active');
            });
            const currentStepDiv = document.querySelector(`.form-step[data-step="${currentStep}"]`);
            currentStepDiv.style.display = 'block';
            
            currentStepDiv.animate([
                { opacity: 0, transform: 'translateY(10px)' },
                { opacity: 1, transform: 'translateY(0)' }
            ], { duration: 300, fill: 'forwards' });

            if (currentStep === 1) prevBtn.style.visibility = 'hidden';
            else prevBtn.style.visibility = 'visible';

            if (currentStep === totalSteps) {
                nextBtn.style.display = 'none';
                submitBtn.style.display = 'flex';
                populateConfirmation();
            } else {
                nextBtn.style.display = 'flex';
                submitBtn.style.display = 'none';
            }
        }

        nextBtn.addEventListener('click', () => {
            if (validateCurrentStep()) {
                currentStep++;
                updateProgress();
            }
        });

        prevBtn.addEventListener('click', () => {
            currentStep--;
            updateProgress();
        });

        function validateCurrentStep() {
            let isValid = true;
            
            if (currentStep === 1) {
                isValid &= validateInput('fullName', /^[\u0600-\u06FF\s]{6,}$/);
                isValid &= validateInput('phone', /^01[0-2,5]{1}[0-9]{8}$/);
                isValid &= validateInput('email', /^[^\s@]+@[^\s@]+\.[^\s@]+$/);
                isValid &= validateSimple('birthdate');
                isValid &= validateSimple('profilePic');
            } else if (currentStep === 2) {
                isValid &= validateSimple('university');
                isValid &= validateSimple('faculty');
                isValid &= validateSimple('year');
            } else if (currentStep === 3) {
                isValid &= validateCheckboxes();
                isValid &= validateInput('motivation', /.{5,}/);
            }

            return !!isValid;
        }

        function validateInput(id, regex) {
            const el = document.getElementById(id);
            const error = document.getElementById(id + 'Error');
            if (!regex.test(el.value)) {
                el.style.borderColor = '#e53e3e';
                if(error) error.classList.add('show');
                return false;
            } else {
                el.style.borderColor = '#48bb78';
                if(error) error.classList.remove('show');
                return true;
            }
        }

        function validateSimple(id) {
            const el = document.getElementById(id);
            if (!el.value) {
                el.style.borderColor = '#e53e3e';
                return false;
            }
            el.style.borderColor = '#48bb78';
            return true;
        }

        function validateCheckboxes() {
            const checked = document.querySelectorAll('input[name="committees"]:checked');
            const error = document.getElementById('committeesError');
            if (checked.length === 0) {
                error.classList.add('show');
                return false;
            }
            error.classList.remove('show');
            return true;
        }

        function populateConfirmation() {
            const container = document.getElementById('confirmationData');
            const name = document.getElementById('fullName').value;
            const phone = document.getElementById('phone').value;
            const faculty = document.getElementById('faculty').value;
            const comms = Array.from(document.querySelectorAll('input[name="committees"]:checked'))
                               .map(cb => cb.value).join('ØŒ ');

            container.innerHTML = `
                <p><strong>Ø§Ù„Ø§Ø³Ù…:</strong> ${name}</p>
                <p><strong>Ø§Ù„Ù‡Ø§ØªÙ:</strong> ${phone}</p>
                <p><strong>Ø§Ù„ÙƒÙ„ÙŠØ©:</strong> ${faculty}</p>
                <p><strong>Ø§Ù„Ù„Ø¬Ø§Ù†:</strong> ${comms}</p>
            `;
        }

        document.querySelectorAll('input, select, textarea').forEach(inp => {
            inp.addEventListener('input', function() {
                this.style.borderColor = '#e2e8f0';
                const err = document.getElementById(this.id + 'Error');
                if(err) err.classList.remove('show');
            });
        });
    </script>
        <script src="js/chatbot.js"></script>
</body>
</html>